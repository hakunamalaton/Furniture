  [1m[35m (42.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7878110171987094480)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220315131220"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20220315132603)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "city" character varying, "district" character varying, "town" character varying, "description" character varying, "price" integer, "phone_number" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220315132603"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20220316050629)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "image" character varying[], "description" character varying, "price" integer, "third_party" character varying, "color" character varying, "size" character varying, "overview" character varying, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316050629"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRatings (20220316131636)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" bigserial primary key, "title" character varying, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "description" character varying, "image" character varying[], "video" character varying[], "type" character varying, "star" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a7dfeb9f5f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_f846e598a7"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_user_id" ON "ratings" ("user_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_product_id" ON "ratings" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316131636"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameTypeToCategory (20220316133802)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "products" RENAME COLUMN "type" TO "category"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ratings" RENAME COLUMN "type" TO "category"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316133802"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeProductOverview (20220319170533)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE "products" ALTER COLUMN "overview" TYPE text[] USING CAST(overview AS text[])[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220319170533"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToProductOVerview (20220319173145)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_products_on_overview" ON "products" USING gin ("overview")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220319173145"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20220320061428)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "user_id" bigint NOT NULL, "status" character varying, "total_price" integer, "description" character varying, "address" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320061428"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrdersProducts (20220320061607)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "orders_products" ("id" bigserial primary key, "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_35083423df"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_fc9f522293"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_products_on_order_id" ON "orders_products" ("order_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_orders_products_on_product_id" ON "orders_products" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320061607"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveRatingVideoColumn (20220320095323)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "video"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320095323"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddProductCustomDesignColumn (20220320095622)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "products" ADD "custom_design" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320095622"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-04-05 10:29:39.942040"], ["updated_at", "2022-04-05 10:29:39.942040"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7878110171987094480)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products" for ::1 at 2022-04-24 15:23:14 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (6.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as */*
  Parameters: {"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"], "product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "price"=>600, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"], "category"=>"bed"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :image, :color, :size, :overview. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfdbbe370>, params: {"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"], "controller"=>"products", "action"=>"create", "product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "price"=>600, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"], "category"=>"bed"}} }[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mProduct Create (24.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", nil], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", nil], ["size", nil], ["overview", nil], ["category", "bed"], ["created_at", "2022-04-24 08:23:17.699954"], ["updated_at", "2022-04-24 08:23:17.699954"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
Completed 200 OK in 221ms (Views: 3.0ms | ActiveRecord: 55.9ms | Allocations: 14990)


Started POST "/products" for ::1 at 2022-04-24 15:25:28 +0700
Processing by ProductsController#create as */*
  Parameters: {"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :image. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfd743cc8>, params: {"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "controller"=>"products", "action"=>"create", "product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:25:28.528728"], ["updated_at", "2022-04-24 08:25:28.528728"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 2.5ms | Allocations: 2730)


Started POST "/products" for ::1 at 2022-04-24 15:26:50 +0700
Processing by ProductsController#create as */*
  Parameters: {"image"=>["https://i.imgur.com/Q12CDlu.png"], "product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :image. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfd813f18>, params: {"image"=>["https://i.imgur.com/Q12CDlu.png"], "controller"=>"products", "action"=>"create", "product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png"]}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:26:50.723114"], ["updated_at", "2022-04-24 08:26:50.723114"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
Completed 200 OK in 48ms (Views: 1.7ms | ActiveRecord: 2.4ms | Allocations: 2449)


Started POST "/products" for ::1 at 2022-04-24 15:27:31 +0700
Error occurred while parsing request parameters.
Contents:

{
    "product": {
        {
    "name": "Josie Upholstered Low Profile Platform Bed",
    "image": [
        "https://i.imgur.com/Q12CDlu.png",
        "https://i.imgur.com/oATc63T.png",
        "https://i.imgur.com/CIUdrUf.png",
        "https://i.imgur.com/JbatxhQ.png",
        "https://i.imgur.com/ceNDrYk.png",
        "https://i.imgur.com/5lpquNF.png"
    ],
    "price": 600,
    "rating": 4.7,
    "numReviews": 150,
    "third_party": "Carbono Design#https://www.carbonodesign.com.br/en/about",
    "color": [
        "Charcoal Gray#36454F",
        "Navy Blue#000080"
    ],
    "size": [
        "Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb",
        "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb",
        "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"
    ],
    "description": "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!",
    "category": "bed",
    "overview": [
        "Headboard Included",
        "Footboard Included",
        "Center Supports Included",
        "Warranty Length: 1 Year"
    ]
}
    }
}
Processing by ProductsController#create as */*
Completed 400 Bad Request in 11ms (ActiveRecord: 0.0ms | Allocations: 793)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (7.0.2.3) lib/action_dispatch/http/request.rb:390:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.2.3) lib/action_dispatch/http/request.rb:389:in `POST'
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.2.3) lib/action_controller/metal/strong_parameters.rb:1223:in `params'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:485:in `form_authenticity_param'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:352:in `request_authenticity_tokens'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:345:in `any_authenticity_token_valid?'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:340:in `verified_request?'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:270:in `verify_authenticity_token'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.2.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
actiontext (7.0.2.3) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.3) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:850:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.3) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.3) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/products" for ::1 at 2022-04-24 15:28:15 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :image, :rating, :numReviews, :color, :size, :overview. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfd7c7578>, params: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", nil], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", nil], ["size", nil], ["overview", nil], ["category", "bed"], ["created_at", "2022-04-24 08:28:16.007193"], ["updated_at", "2022-04-24 08:28:16.007193"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
Completed 200 OK in 32ms (Views: 1.1ms | ActiveRecord: 2.2ms | Allocations: 2859)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{a,b}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:35:07.043792"], ["updated_at", "2022-04-24 08:35:07.043792"], ["custom_design", false]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/products" for ::1 at 2022-04-24 15:36:27 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :image, :rating, :numReviews, :color, :size, :overview. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfdea2a28>, params: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
[31mUnpermitted parameters: :image, :rating, :numReviews, :color, :size, :overview. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfdea2a28>, params: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (8.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", nil], ["size", nil], ["overview", nil], ["category", "bed"], ["created_at", "2022-04-24 08:36:28.526795"], ["updated_at", "2022-04-24 08:36:28.526795"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 226ms (Views: 1.2ms | ActiveRecord: 26.2ms | Allocations: 8619)


Started POST "/products" for ::1 at 2022-04-24 15:37:37 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :image. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfd3af7d8>, params: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:37:38.751828"], ["updated_at", "2022-04-24 08:37:38.751828"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 57ms (Views: 1.4ms | ActiveRecord: 27.5ms | Allocations: 6351)


Started POST "/products" for ::1 at 2022-04-24 15:38:10 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :image. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfe2b5d40>, params: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:38:11.857942"], ["updated_at", "2022-04-24 08:38:11.857942"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 53ms (Views: 1.5ms | ActiveRecord: 10.4ms | Allocations: 6200)


Started POST "/products" for ::1 at 2022-04-24 15:38:39 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :image. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcff0883a0>, params: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:38:39.815488"], ["updated_at", "2022-04-24 08:38:39.815488"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 50ms (Views: 1.0ms | ActiveRecord: 9.5ms | Allocations: 6221)


Started POST "/products" for ::1 at 2022-04-24 15:40:07 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
...name,:image => [],:description,:price,:third_party,:color,:s...
...                              ^
):
  
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
Started POST "/products" for ::1 at 2022-04-24 15:41:11 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
...t(:name,image: [],:description,:price,:third_party,:color,:s...
...                              ^
):
  
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
Started POST "/products" for ::1 at 2022-04-24 15:41:26 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:41:27.727607"], ["updated_at", "2022-04-24 08:41:27.727607"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 713ms (Views: 3.1ms | ActiveRecord: 19.0ms | Allocations: 6326)


Started POST "/products" for ::1 at 2022-04-24 15:42:07 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "color"=>["red", "blue"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", "[\"red\", \"blue\"]"], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:42:07.835983"], ["updated_at", "2022-04-24 08:42:07.835983"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 49ms (Views: 1.3ms | ActiveRecord: 10.5ms | Allocations: 6241)


Started POST "/products" for ::1 at 2022-04-24 15:43:19 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:43:20.341089"], ["updated_at", "2022-04-24 08:43:20.341089"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 81ms (Views: 1.3ms | ActiveRecord: 12.7ms | Allocations: 6239)


Started POST "/products" for ::1 at 2022-04-24 15:43:28 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
...,:size,overview: [], :category, image: [], color: [])
...                              ^
):
  
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
app/controllers/products_controller.rb:102: syntax error, unexpected ',', expecting =>
Started POST "/products" for ::1 at 2022-04-24 15:45:41 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:45:42.140731"], ["updated_at", "2022-04-24 08:45:42.140731"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 45ms (Views: 1.5ms | ActiveRecord: 11.8ms | Allocations: 6294)


Started POST "/products" for ::1 at 2022-04-24 15:46:42 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :rating, :numReviews. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dcfe408580>, params: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", "[\"Charcoal Gray#36454F\", \"Navy Blue#000080\"]"], ["size", "[\"Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb\", \"King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb\", \"Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb\"]"], ["overview", "{\"Headboard Included\",\"Footboard Included\",\"Center Supports Included\",\"Warranty Length: 1 Year\"}"], ["category", "bed"], ["created_at", "2022-04-24 08:46:43.733030"], ["updated_at", "2022-04-24 08:46:43.733030"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 116ms (Views: 3.0ms | ActiveRecord: 15.0ms | Allocations: 6604)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeColorIntoArray (20220424085014)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.4ms)[0m  [1m[35mALTER TABLE "products" ALTER COLUMN "color" TYPE varchar[] USING CAST(overview AS varchar[])[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220424085014"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeSizeIntoArray (20220424085132)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.5ms)[0m  [1m[35mALTER TABLE "products" ALTER COLUMN "size" TYPE varchar[] USING CAST(overview AS varchar[])[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220424085132"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products" for ::1 at 2022-04-24 15:55:01 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :rating, :numReviews. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dc80068b60>, params: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (29.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", "[\"Charcoal Gray#36454F\", \"Navy Blue#000080\"]"], ["size", "[\"Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb\", \"King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb\", \"Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb\"]"], ["overview", "{\"Headboard Included\",\"Footboard Included\",\"Center Supports Included\",\"Warranty Length: 1 Year\"}"], ["category", "bed"], ["created_at", "2022-04-24 08:55:03.841105"], ["updated_at", "2022-04-24 08:55:03.841105"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 500 Internal Server Error in 651ms (ActiveRecord: 31.0ms | Allocations: 6900)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  malformed array literal: "["Charcoal Gray#36454F", "Navy Blue#000080"]"
DETAIL:  "[" must introduce explicitly-specified array dimensions.
):
  
app/controllers/products_controller.rb:12:in `create'
Started POST "/products" for ::1 at 2022-04-24 15:56:09 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"color"=>["Charcoal Gray#36454F", "Navy Blue#000080"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (9.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", "[\"Charcoal Gray#36454F\", \"Navy Blue#000080\"]"], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:56:09.775717"], ["updated_at", "2022-04-24 08:56:09.775717"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 10.3ms | Allocations: 3450)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  malformed array literal: "["Charcoal Gray#36454F", "Navy Blue#000080"]"
DETAIL:  "[" must introduce explicitly-specified array dimensions.
):
  
app/controllers/products_controller.rb:12:in `create'
Started POST "/products" for ::1 at 2022-04-24 15:57:47 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (6.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", nil], ["price", nil], ["third_party", nil], ["color", nil], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:57:47.325675"], ["updated_at", "2022-04-24 08:57:47.325675"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 61ms (Views: 1.3ms | ActiveRecord: 7.9ms | Allocations: 2594)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products" for ::1 at 2022-04-24 15:59:15 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"color"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"]}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", nil], ["image", nil], ["description", nil], ["price", nil], ["third_party", nil], ["color", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["size", nil], ["overview", nil], ["category", nil], ["created_at", "2022-04-24 08:59:16.445801"], ["updated_at", "2022-04-24 08:59:16.445801"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 67ms (Views: 2.0ms | ActiveRecord: 26.0ms | Allocations: 6417)


Started POST "/products" for ::1 at 2022-04-24 16:00:29 +0700
Error occurred while parsing request parameters.
Contents:

{
    "product": {
{
    "name": "Josie Upholstered Low Profile Platform Bed",
    "image": [
        "https://i.imgur.com/Q12CDlu.png",
        "https://i.imgur.com/oATc63T.png",
        "https://i.imgur.com/CIUdrUf.png",
        "https://i.imgur.com/JbatxhQ.png",
        "https://i.imgur.com/ceNDrYk.png",
        "https://i.imgur.com/5lpquNF.png"
    ],
    "price": 600,
    "rating": 4.7,
    "numReviews": 150,
    "third_party": "Carbono Design#https://www.carbonodesign.com.br/en/about",
    "color": [
        "Charcoal Gray#36454F",
        "Navy Blue#000080"
    ],
    "size": [
        "Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb",
        "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb",
        "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"
    ],
    "description": "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!",
    "category": "bed",
    "overview": [
        "Headboard Included",
        "Footboard Included",
        "Center Supports Included",
        "Warranty Length: 1 Year"
    ]
}
}
}
Processing by ProductsController#create as */*
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 778)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (7.0.2.3) lib/action_dispatch/http/request.rb:390:in `block in POST'
rack (2.2.3) lib/rack/request.rb:69:in `fetch'
rack (2.2.3) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.2.3) lib/action_dispatch/http/request.rb:389:in `POST'
actionpack (7.0.2.3) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.2.3) lib/action_controller/metal/strong_parameters.rb:1223:in `params'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:485:in `form_authenticity_param'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:352:in `request_authenticity_tokens'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:345:in `any_authenticity_token_valid?'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:340:in `verified_request?'
actionpack (7.0.2.3) lib/action_controller/metal/request_forgery_protection.rb:270:in `verify_authenticity_token'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.2.3) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:116:in `block in run_callbacks'
actiontext (7.0.2.3) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.2.3) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.2.3) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.2.3) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.2.3) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.2.3) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.2.3) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.2.3) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.2.3) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.2.3) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.2.3) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.2.3) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.2.3) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.2.3) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.2.3) lib/action_dispatch/routing/route_set.rb:850:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (7.0.2.3) lib/action_dispatch/http/permissions_policy.rb:22:in `call'
actionpack (7.0.2.3) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/cookies.rb:693:in `call'
activerecord (7.0.2.3) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
<<<<<<< HEAD
Started POST "/sign-up" for ::1 at 2022-04-22 13:53:58 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: fe_sendauth: no password supplied
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:31:16 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: fe_sendauth: no password supplied
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:35:04 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:38:22 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:38:35 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:39:46 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:40:51 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/sign-up" for ::1 at 2022-04-22 14:41:08 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:52:34 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/sign-up" for ::1 at 2022-04-22 14:56:30 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 14:58:37 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 15:14:59 +0700
  
ActiveRecord::ConnectionNotEstablished (connection to server at "::1", port 5432 failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:87:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/signup" for ::1 at 2022-04-22 15:16:47 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
=======
Started POST "/products" for ::1 at 2022-04-24 16:01:15 +0700
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :rating, :numReviews. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x000001dc804a3360>, params: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mProduct Create (2.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", "{\"Charcoal Gray#36454F\",\"Navy Blue#000080\"}"], ["size", "{\"Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb\",\"King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb\",\"Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb\"}"], ["overview", "{\"Headboard Included\",\"Footboard Included\",\"Center Supports Included\",\"Warranty Length: 1 Year\"}"], ["category", "bed"], ["created_at", "2022-04-24 09:01:15.911247"], ["updated_at", "2022-04-24 09:01:15.911247"], ["custom_design", false]]
  ↳ app/controllers/products_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:12:in `create'
Completed 200 OK in 40ms (Views: 1.8ms | ActiveRecord: 3.3ms | Allocations: 2905)


Started GET "/products" for ::1 at 2022-04-24 16:07:25 +0700
Processing by ProductsController#display_product as HTML
  [1m[36mProduct Count (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/controllers/products_controller.rb:36:in `display_product'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products"."id", "products"."name", "products"."image", "products"."price" FROM "products"[0m
  ↳ app/controllers/products_controller.rb:42:in `display_product'
Completed 200 OK in 278ms (Views: 28.6ms | ActiveRecord: 36.1ms | Allocations: 15392)


Started GET "/products/1" for ::1 at 2022-04-24 16:07:32 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:98:in `set_product'
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 3174)


Started GET "/products/20" for ::1 at 2022-04-24 16:07:42 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:98:in `set_product'
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 998)


Started GET "/products?name=cha" for ::1 at 2022-04-24 16:21:20 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"name"=>"cha"}
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name LIKE '%cha%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 192ms (Views: 0.4ms | ActiveRecord: 18.7ms | Allocations: 10645)


Started GET "/products?name=jo" for ::1 at 2022-04-24 16:21:30 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"name"=>"jo"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name LIKE '%jo%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 784)


Started GET "/products?name=Jo" for ::1 at 2022-04-24 16:21:37 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"name"=>"Jo"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name LIKE '%Jo%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 20ms (Views: 5.0ms | ActiveRecord: 0.5ms | Allocations: 4455)


Started GET "/products?name=js" for ::1 at 2022-04-24 16:22:01 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"name"=>"js"}
  [1m[36mProduct Load (2.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%js%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 40ms (Views: 0.6ms | ActiveRecord: 2.5ms | Allocations: 8108)


Started GET "/products?name=jo" for ::1 at 2022-04-24 16:22:04 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"name"=>"jo"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%jo%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 53ms (Views: 4.7ms | ActiveRecord: 31.9ms | Allocations: 5035)


Started GET "/products?type=bed" for ::1 at 2022-04-24 16:22:22 +0700
Processing by ProductsController#display_product as HTML
  Parameters: {"type"=>"bed"}
  [1m[36mProduct Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" WHERE "products"."category" = $1[0m  [["category", "bed"]]
  ↳ app/controllers/products_controller.rb:37:in `display_product'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products"."id", "products"."name", "products"."image", "products"."price" FROM "products" WHERE "products"."category" = $1[0m  [["category", "bed"]]
  ↳ app/controllers/products_controller.rb:46:in `display_product'
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 1.6ms | Allocations: 1959)


Started GET "/sign-in" for ::1 at 2022-04-24 16:24:38 +0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started POST "/sign-in" for ::1 at 2022-04-24 16:25:01 +0700
Processing by SessionsController#create as */*
  Parameters: {"email"=>"mdlong@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"mdlong@gmail.com", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 145ms (ActiveRecord: 0.0ms | Allocations: 3809)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/sessions_controller.rb:37:in `user_params'
app/controllers/sessions_controller.rb:5:in `create'
Started POST "/sign-in" for ::1 at 2022-04-24 16:25:25 +0700
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"mdlong@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"mdlong@gmail.com", "password"=>"[FILTERED]"}}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mdlong@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 22ms (Views: 0.7ms | ActiveRecord: 10.9ms | Allocations: 1635)


Started POST "/sign-up" for ::1 at 2022-04-24 16:26:00 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/users_controller.rb:1: syntax error, unexpected <<
<<<<<<< HEAD
^~
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
=======
^~~
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
>>>>>>> origin/xvu
^~
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
Started POST "/sign-up" for ::1 at 2022-04-24 16:26:53 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"email"=>"mdclondg@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mdclondg@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "mdclondg@gmail.com"], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-24 09:26:54.970540"], ["updated_at", "2022-04-24 09:26:54.970540"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 430ms (Views: 0.4ms | ActiveRecord: 13.1ms | Allocations: 6831)


Started POST "/sign-in" for ::1 at 2022-04-24 16:27:04 +0700
Processing by SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"mdclondg@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"mdclondg@gmail.com", "password"=>"[FILTERED]"}}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mdclondg@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 375ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1133)


Started DELETE "/logout" for ::1 at 2022-04-24 16:27:59 +0700
Processing by SessionsController#destroy as */*
  Parameters: {"email"=>"mdclondg@gmail.com", "session"=>{"email"=>"mdclondg@gmail.com"}}
Can't verify CSRF token authenticity.
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 225)


Started DELETE "/logout" for ::1 at 2022-04-24 16:28:03 +0700
Processing by SessionsController#destroy as */*
  Parameters: {"email"=>"mdclondg@gmail.com", "session"=>{"email"=>"mdclondg@gmail.com"}}
Can't verify CSRF token authenticity.
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 224)


Started GET "/products/20" for ::1 at 2022-04-24 16:28:54 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `set_product'
Completed 200 OK in 75ms (Views: 1.4ms | ActiveRecord: 9.1ms | Allocations: 12070)


Started GET "/products/20/ratings" for ::1 at 2022-04-24 16:29:28 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `set_product'
  [1m[36mRating Load (4.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."category" = $1 AND "ratings"."product_id" = $2[0m  [["category", "all"], ["product_id", 20]]
  ↳ app/controllers/products_controller.rb:74:in `show_ratings'
Completed 200 OK in 88ms (Views: 4.6ms | ActiveRecord: 16.4ms | Allocations: 15615)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 16:29:35 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."category" = $1 AND "ratings"."product_id" = $2[0m  [["category", "all"], ["product_id", 1]]
  ↳ app/controllers/products_controller.rb:74:in `show_ratings'
Completed 200 OK in 13ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 1514)


Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:32:54 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"title"=>"Bad reviews", "description"=>"The product is not like the picture", "id"=>"1", "product"=>{"description"=>"The product is not like the picture"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
Completed 500 Internal Server Error in 437ms (ActiveRecord: 4.0ms | Allocations: 12467)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/products_controller.rb:86:in `create_ratings'
Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:35:13 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "id"=>"1", "product"=>{"description"=>"The product is not like the picture"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 6.3ms | Allocations: 6750)


  
ActiveModel::UnknownAttributeError (unknown attribute 'video' for Rating.):
  
app/controllers/products_controller.rb:84:in `create_ratings'
Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:35:22 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "id"=>"1", "product"=>{"description"=>"The product is not like the picture"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mRating Create (8.1ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Bad reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", nil], ["category", nil], ["star", nil], ["created_at", "2022-04-24 09:35:23.198455"], ["updated_at", "2022-04-24 09:35:23.198455"]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
Completed 200 OK in 199ms (Views: 1.1ms | ActiveRecord: 29.2ms | Allocations: 24871)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 16:35:39 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `set_product'
  [1m[36mRating Load (3.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."category" = $1 AND "ratings"."product_id" = $2[0m  [["category", "all"], ["product_id", 1]]
  ↳ app/controllers/products_controller.rb:74:in `show_ratings'
Completed 200 OK in 116ms (Views: 28.9ms | ActiveRecord: 5.5ms | Allocations: 1623)


Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:38:01 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "category"=>"all", "id"=>"1", "product"=>{"description"=>"The product is not like the picture", "category"=>"all"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mRating Create (2.0ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Bad reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", nil], ["category", "all"], ["star", nil], ["created_at", "2022-04-24 09:38:02.148294"], ["updated_at", "2022-04-24 09:38:02.148294"]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
Completed 200 OK in 40ms (Views: 2.3ms | ActiveRecord: 5.7ms | Allocations: 5264)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 16:38:06 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."category" = $1 AND "ratings"."product_id" = $2[0m  [["category", "all"], ["product_id", 1]]
  ↳ app/controllers/products_controller.rb:74:in `show_ratings'
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 1.1ms | Allocations: 1670)


Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:39:21 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mRating Create (1.4ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Bad reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", nil], ["created_at", "2022-04-24 09:39:21.201912"], ["updated_at", "2022-04-24 09:39:21.201912"]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
Completed 200 OK in 47ms (Views: 1.1ms | ActiveRecord: 5.9ms | Allocations: 5274)


Started POST "/products/1/ratings" for ::1 at 2022-04-24 16:40:22 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:81:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mRating Create (1.3ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Bad reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", nil], ["created_at", "2022-04-24 09:40:23.377935"], ["updated_at", "2022-04-24 09:40:23.377935"]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
Completed 200 OK in 140ms (Views: 1.2ms | ActiveRecord: 28.6ms | Allocations: 20612)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 16:40:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `set_product'
  [1m[36mRating Load (0.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."category" = $1 AND "ratings"."product_id" = $2[0m  [["category", "all"], ["product_id", 1]]
  ↳ app/controllers/products_controller.rb:74:in `show_ratings'
Completed 200 OK in 16ms (Views: 5.1ms | ActiveRecord: 1.2ms | Allocations: 1787)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 16:42:16 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:77:in `show_ratings'
Completed 200 OK in 96ms (Views: 16.6ms | ActiveRecord: 15.9ms | Allocations: 17958)


Started GET "/products/1/ratings?type=5%20Stars" for ::1 at 2022-04-24 16:42:58 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"5 Stars", "id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."category" = $2[0m  [["product_id", 1], ["category", "5 Stars"]]
  ↳ app/controllers/products_controller.rb:77:in `show_ratings'
Completed 200 OK in 87ms (Views: 13.9ms | ActiveRecord: 11.9ms | Allocations: 17745)


Started POST "/users/1/address" for ::1 at 2022-04-24 16:48:44 +0700
Processing by AddressesController#create as */*
  Parameters: {"city"=>"HCM", "id"=>"1", "address"=>{"city"=>"HCM"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/addresses_controller.rb:32:in `set_address'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/addresses_controller.rb:13:in `create'
  [1m[36mAddress Create (8.9ms)[0m  [1m[32mINSERT INTO "addresses" ("city", "district", "town", "description", "price", "phone_number", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["city", "HCM"], ["district", nil], ["town", nil], ["description", nil], ["price", nil], ["phone_number", nil], ["user_id", 1], ["created_at", "2022-04-24 09:48:46.990295"], ["updated_at", "2022-04-24 09:48:46.990295"]]
  ↳ app/controllers/addresses_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/addresses_controller.rb:13:in `create'
Completed 200 OK in 135ms (Views: 1.4ms | ActiveRecord: 51.5ms | Allocations: 16783)


Started GET "/users/1/address" for ::1 at 2022-04-24 16:48:56 +0700
Processing by AddressesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/addresses_controller.rb:32:in `set_address'
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses"."city", "addresses"."district", "addresses"."town", "addresses"."description", "addresses"."price", "addresses"."phone_number", "addresses"."id" FROM "addresses" WHERE "addresses"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/addresses_controller.rb:7:in `show'
Completed 200 OK in 18ms (Views: 6.6ms | ActiveRecord: 1.1ms | Allocations: 1754)


Started GET "/products?name=Jo" for ::1 at 2022-04-24 16:52:25 +0700
Processing by ProductsController#display_product as */*
  Parameters: {"name"=>"Jo"}
  [1m[36mProduct Load (4.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE (name ILIKE '%Jo%')[0m
  ↳ app/controllers/products_controller.rb:62:in `search'
Completed 200 OK in 153ms (Views: 8.3ms | ActiveRecord: 22.3ms | Allocations: 12628)


Started GET "/products" for ::1 at 2022-04-24 16:52:37 +0700
Processing by ProductsController#display_product as */*
  [1m[36mProduct Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  ↳ app/controllers/products_controller.rb:41:in `display_product'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products"."id", "products"."name", "products"."image", "products"."price" FROM "products"[0m
  ↳ app/controllers/products_controller.rb:46:in `display_product'
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 1.3ms | Allocations: 2748)


Started POST "/users/1/orders" for ::1 at 2022-04-24 16:57:05 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Created", "total_price"=>50, "description"=>"Fast Shipping"}, "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 61ms (ActiveRecord: 9.9ms | Allocations: 9348)


  
NoMethodError (undefined method `map' for nil:NilClass):
  
app/controllers/orders_controller.rb:63:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-24 16:59:14 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Created", "total_price"=>50, "description"=>"Fast Shipping"}, "products"=>[1, 2, 3], "quantity"=>[5, 7, 2], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:67:in `create'
Completed 500 Internal Server Error in 101ms (ActiveRecord: 19.0ms | Allocations: 20783)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/controllers/orders_controller.rb:67:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-24 16:59:40 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Created", "total_price"=>50, "description"=>"Fast Shipping"}, "products"=>[1, 2, 3], "quantity"=>[5, 7, 2], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mOrder Create (10.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Created"], ["total_price", 50], ["description", "Fast Shipping"], ["address", nil], ["created_at", "2022-04-24 09:59:41.105613"], ["updated_at", "2022-04-24 09:59:41.105613"]]
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (19.3ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 15], ["product_id", 1], ["created_at", "2022-04-24 09:59:41.262890"], ["updated_at", "2022-04-24 09:59:41.262890"], ["quantity", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (1.1ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 15], ["product_id", 2], ["created_at", "2022-04-24 09:59:41.329734"], ["updated_at", "2022-04-24 09:59:41.329734"], ["quantity", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (2.1ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 15], ["product_id", 3], ["created_at", "2022-04-24 09:59:41.361933"], ["updated_at", "2022-04-24 09:59:41.361933"], ["quantity", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrdersProduct Load (0.6ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 15]]
  ↳ app/controllers/orders_controller.rb:71:in `each_with_index'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (5.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 09:59:41.440258"], ["quantity", 5], ["id", 11]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 09:59:41.488387"], ["quantity", 7], ["id", 12]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 09:59:41.515633"], ["quantity", 2], ["id", 13]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 15]]
  ↳ app/controllers/orders_controller.rb:75:in `create'
Completed 200 OK in 532ms (Views: 44.1ms | ActiveRecord: 82.5ms | Allocations: 61045)


Started GET "/orders" for ::1 at 2022-04-24 17:01:31 +0700
Processing by OrdersController#show as */*
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/orders_controller.rb:32:in `show'
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 7.9ms | Allocations: 12087)


Started PATCH "/orders/15" for ::1 at 2022-04-24 17:03:28 +0700
Processing by OrdersController#update as */*
  Parameters: {"total_price"=>17, "id"=>"15", "order"=>{"total_price"=>17}}
Can't verify CSRF token authenticity.
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:45:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:46:in `update'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:46:in `update'
  [1m[36mOrder Update (0.7ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["status", nil], ["updated_at", "2022-04-24 10:03:29.196262"], ["id", 15]]
  ↳ app/controllers/orders_controller.rb:46:in `update'
  [1m[36mTRANSACTION (149.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:46:in `update'
Completed 200 OK in 366ms (Views: 0.4ms | ActiveRecord: 158.9ms | Allocations: 19001)


Started GET "/users/1/orders" for ::1 at 2022-04-24 17:08:32 +0700
Processing by UsersController#show_order as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:30:in `show_order'
Completed 200 OK in 64ms (Views: 10.1ms | ActiveRecord: 8.8ms | Allocations: 12164)


Started GET "/users/1/orders" for ::1 at 2022-04-24 17:09:41 +0700
Processing by UsersController#show_order as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders"."id", "orders"."status", "orders"."total_price", "orders"."description", "orders"."address" FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:31:in `show_order'
Completed 200 OK in 63ms (Views: 2.1ms | ActiveRecord: 9.7ms | Allocations: 11133)


Started GET "/users/1/orders?status=cancel" for ::1 at 2022-04-24 17:09:58 +0700
Processing by UsersController#show_order as */*
  Parameters: {"status"=>"cancel", "id"=>"1"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders"."id", "orders"."status", "orders"."total_price", "orders"."description", "orders"."address" FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."status" = $2[0m  [["user_id", 1], ["status", "cancel"]]
  ↳ app/controllers/users_controller.rb:31:in `show_order'
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 969)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddSizeAndColorToOrdersProducts (20220424101948)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.9ms)[0m  [1m[35mALTER TABLE "orders_products" ADD "size" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "orders_products" ADD "color" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220424101948"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users/1/orders" for ::1 at 2022-04-24 17:27:49 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[5, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mOrder Create (8.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-24 10:27:51.435555"], ["updated_at", "2022-04-24 10:27:51.435555"]]
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:61:in `create'
  [1m[36mProduct Load (4.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:65:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:67:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (4.5ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 16], ["product_id", 1], ["created_at", "2022-04-24 10:27:51.606152"], ["updated_at", "2022-04-24 10:27:51.606152"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (0.8ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 16], ["product_id", 2], ["created_at", "2022-04-24 10:27:51.619129"], ["updated_at", "2022-04-24 10:27:51.619129"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrder::HABTM_Products Create (1.0ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 16], ["product_id", 3], ["created_at", "2022-04-24 10:27:51.629340"], ["updated_at", "2022-04-24 10:27:51.629340"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:68:in `create'
  [1m[36mOrdersProduct Load (5.4ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:71:in `each_with_index'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (1.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.692884"], ["quantity", 5], ["id", 14]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mOrdersProduct Update (1.1ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.705110"], ["size", "a"], ["id", 14]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.721006"], ["color", "red"], ["id", 14]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (0.6ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.752188"], ["quantity", 9], ["id", 15]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.765226"], ["size", "a"], ["id", 15]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.781374"], ["color", "blue"], ["id", 15]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.813649"], ["quantity", 2], ["id", 16]]
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:72:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mOrdersProduct Update (0.6ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.822648"], ["size", "a"], ["id", 16]]
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mOrdersProduct Update (1.0ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-24 10:27:51.838056"], ["color", "green"], ["id", 16]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:77:in `create'
Completed 200 OK in 680ms (Views: 44.8ms | ActiveRecord: 94.2ms | Allocations: 91370)


  [1m[36mProduct Load (10.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRating Count (9.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAvgStarInProduct (20220424155945)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.1ms)[0m  [1m[35mALTER TABLE "products" ADD "avg_star" float DEFAULT 0.0[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220424155945"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (7.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products/1/ratings" for ::1 at 2022-04-24 23:02:05 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Bad reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>4, "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:83:in `create_ratings'
  [1m[36mProduct Load (3.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mRating Count (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:87:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:89:in `create_ratings'
  [1m[36mProduct Update (4.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-24 16:02:07.309752"], ["avg_star", 0.8], ["id", 1]]
  ↳ app/controllers/products_controller.rb:89:in `create_ratings'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:89:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:92:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:92:in `create_ratings'
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:92:in `create_ratings'
  [1m[36mRating Create (6.0ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Bad reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 4], ["created_at", "2022-04-24 16:02:07.490545"], ["updated_at", "2022-04-24 16:02:07.490545"]]
  ↳ app/controllers/products_controller.rb:92:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:92:in `create_ratings'
Completed 200 OK in 438ms (Views: 4.8ms | ActiveRecord: 50.7ms | Allocations: 43444)


Started GET "/products/1" for ::1 at 2022-04-24 23:02:38 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:110:in `set_product'
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 1128)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 23:03:13 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:110:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:76:in `show_ratings'
Completed 200 OK in 19ms (Views: 9.7ms | ActiveRecord: 1.2ms | Allocations: 2408)


Started GET "/products/1/ratings" for ::1 at 2022-04-24 23:04:03 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:79:in `show_ratings'
Completed 200 OK in 119ms (Views: 4.0ms | ActiveRecord: 15.7ms | Allocations: 18350)


Started POST "/products/1/ratings" for ::1 at 2022-04-24 23:04:28 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:84:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:85:in `create_ratings'
  [1m[36mRating Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:88:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:90:in `create_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-24 16:04:28.945421"], ["avg_star", 1.5], ["id", 1]]
  ↳ app/controllers/products_controller.rb:90:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:90:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:93:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:93:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:93:in `create_ratings'
  [1m[36mRating Create (1.0ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Good reviews"], ["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-24 16:04:28.978345"], ["updated_at", "2022-04-24 16:04:28.978345"]]
  ↳ app/controllers/products_controller.rb:93:in `create_ratings'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:93:in `create_ratings'
Completed 200 OK in 101ms (Views: 1.3ms | ActiveRecord: 11.4ms | Allocations: 16498)


Started GET "/products/1" for ::1 at 2022-04-24 23:04:38 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 11ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 936)


Started GET "/products/20" for ::1 at 2022-04-27 08:00:03 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (7.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 555ms (Views: 11.1ms | ActiveRecord: 41.7ms | Allocations: 24047)


Started GET "/products/20" for ::1 at 2022-04-27 08:03:24 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 15ms (Views: 1.8ms | ActiveRecord: 0.9ms | Allocations: 1185)


Started GET "/products/20" for ::1 at 2022-04-27 08:06:02 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.8ms | Allocations: 1018)


Started GET "/products/20" for ::1 at 2022-04-27 08:06:46 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 17ms (Views: 4.4ms | ActiveRecord: 0.7ms | Allocations: 1018)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:10 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 17ms (Views: 1.7ms | ActiveRecord: 1.8ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:12 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 12ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 1018)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:32 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:37 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:41 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 11ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:44 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 16ms (Views: 3.3ms | ActiveRecord: 0.5ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:08:47 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 12ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:09:01 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:09:49 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:10:06 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:10:14 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 21ms (Views: 7.2ms | ActiveRecord: 0.6ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 08:11:48 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `set_product'
Completed 200 OK in 13ms (Views: 2.1ms | ActiveRecord: 0.4ms | Allocations: 1002)


Started GET "/products/20" for ::1 at 2022-04-27 10:08:19 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (3.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Completed 200 OK in 124ms (Views: 3.8ms | ActiveRecord: 23.5ms | Allocations: 24054)


Started PATCH "/products/20" for ::1 at 2022-04-27 10:08:44 +0700
Processing by ProductsController#update as */*
  Parameters: {"category"=>"chair", "id"=>"20", "product"=>{"category"=>"chair"}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mProduct Update (9.2ms)[0m  [1m[33mUPDATE "products" SET "category" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["category", "chair"], ["updated_at", "2022-04-27 03:08:44.857096"], ["id", 20]]
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 11.7ms | Allocations: 4943)


  
NoMethodError (undefined method `save' for true:TrueClass):
  
app/controllers/products_controller.rb:26:in `update'
Started GET "/products/20" for ::1 at 2022-04-27 10:09:45 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Completed 200 OK in 64ms (Views: 1.7ms | ActiveRecord: 9.9ms | Allocations: 12373)


Started PATCH "/products/20" for ::1 at 2022-04-27 10:10:02 +0700
Processing by ProductsController#update as */*
  Parameters: {"category"=>"bath", "id"=>"20", "product"=>{"category"=>"bath"}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mProduct Update (3.1ms)[0m  [1m[33mUPDATE "products" SET "category" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["category", "bath"], ["updated_at", "2022-04-27 03:10:02.721923"], ["id", 20]]
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
Completed 204 No Content in 23ms (Views: 0.9ms | ActiveRecord: 4.4ms | Allocations: 3472)


Started PATCH "/products/20" for ::1 at 2022-04-27 10:10:16 +0700
Processing by ProductsController#update as */*
  Parameters: {"category"=>"bath", "id"=>"20", "product"=>{"category"=>"bath"}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Can't verify CSRF token authenticity.
Completed 200 OK in 27ms (Views: 1.6ms | ActiveRecord: 7.4ms | Allocations: 5061)


Started PATCH "/products/20" for ::1 at 2022-04-27 10:10:34 +0700
Processing by ProductsController#update as */*
  Parameters: {"category"=>"bed", "id"=>"20", "product"=>{"category"=>"bed"}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "category" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["category", "bed"], ["updated_at", "2022-04-27 03:10:34.515398"], ["id", 20]]
  ↳ app/controllers/products_controller.rb:25:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:25:in `update'
Completed 200 OK in 35ms (Views: 1.2ms | ActiveRecord: 7.5ms | Allocations: 6811)


Started GET "/products/20" for ::1 at 2022-04-27 10:10:39 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `set_product'
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1035)


Started DELETE "/products/20" for ::1 at 2022-04-27 10:15:20 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct::HABTM_Orders Delete All (17.2ms)[0m  [1m[31mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 20]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct Destroy (13.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
Completed 422 Unprocessable Entity in 377ms (Views: 0.3ms | ActiveRecord: 48.6ms | Allocations: 28579)


Started GET "/products/20" for ::1 at 2022-04-27 10:15:40 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Completed 200 OK in 52ms (Views: 0.3ms | ActiveRecord: 3.7ms | Allocations: 9366)


Started DELETE "/products/20" for ::1 at 2022-04-27 10:15:49 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms | Allocations: 1499)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/products_controller.rb:34:in `destroy'
Started DELETE "/products/19" for ::1 at 2022-04-27 10:16:08 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"19"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct::HABTM_Orders Delete All (0.5ms)[0m  [1m[31mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 19]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct Destroy (1.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
Completed 200 OK in 462ms (Views: 0.5ms | ActiveRecord: 13.0ms | Allocations: 21925)


Started DELETE "/products/21" for ::1 at 2022-04-27 10:17:42 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 61ms (Views: 0.3ms | ActiveRecord: 8.7ms | Allocations: 9414)


Started DELETE "/products/18" for ::1 at 2022-04-27 10:17:47 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"18"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct::HABTM_Orders Delete All (3.2ms)[0m  [1m[31mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 18]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct Destroy (3.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
Completed 200 OK in 222ms (Views: 0.7ms | ActiveRecord: 26.8ms | Allocations: 14269)


Started POST "/products" for ::1 at 2022-04-27 10:24:33 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameters: :rating, :numReviews. Context: { controller: ProductsController, action: create, request: #<ActionDispatch::Request:0x0000018de7cc5328>, params: {"product"=>{"name"=>"Josie Upholstered Low Profile Platform Bed", "image"=>["https://i.imgur.com/Q12CDlu.png", "https://i.imgur.com/oATc63T.png", "https://i.imgur.com/CIUdrUf.png", "https://i.imgur.com/JbatxhQ.png", "https://i.imgur.com/ceNDrYk.png", "https://i.imgur.com/5lpquNF.png"], "price"=>600, "rating"=>4.7, "numReviews"=>150, "third_party"=>"Carbono Design#https://www.carbonodesign.com.br/en/about", "color"=>["Charcoal Gray#36454F", "Navy Blue#000080"], "size"=>["Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb", "King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb", "Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb"], "description"=>"You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!", "category"=>"bed", "overview"=>["Headboard Included", "Footboard Included", "Center Supports Included", "Warranty Length: 1 Year"]}, "controller"=>"products", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mProduct Create (18.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "image", "description", "price", "third_party", "color", "size", "overview", "category", "created_at", "updated_at", "custom_design", "avg_star") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["name", "Josie Upholstered Low Profile Platform Bed"], ["image", "{https://i.imgur.com/Q12CDlu.png,https://i.imgur.com/oATc63T.png,https://i.imgur.com/CIUdrUf.png,https://i.imgur.com/JbatxhQ.png,https://i.imgur.com/ceNDrYk.png,https://i.imgur.com/5lpquNF.png}"], ["description", "You can stop browsing the internet right now; the Josie Upholstered Bed is the mid-century modern frame you have been looking for! With a soft velvet upholstery and a horizontal ribbed tufting pattern in the headboard, this upholstered bed will make the perfect addition to your master, guest, or teen’s bedroom. Built on a strong metal frame that features metal side rails and an additional center metal leg, this bed frame also includes a bentwood slat system and sturdy plastic legs to provide mattress support and allow for mattress breathability. The slats also remove the need for you to purchase any additional box spring or foundation. No matter the room, Josie’s simple yet trendy design will complement your existing furniture pieces and bring your bedroom décor to the next level. Available in multiple sizes and color options, there is the perfect Josie Upholstered Bed available for you!"], ["price", 600], ["third_party", "Carbono Design#https://www.carbonodesign.com.br/en/about"], ["color", "{\"Charcoal Gray#36454F\",\"Navy Blue#000080\"}"], ["size", "{\"Full Size#42.5'' H x 58.5'' W x 80.5'' L# 83.5 lb\",\"King Size# 39.5'' H x 78.5'' W x 84.5'' L#95.5 lb\",\"Queen Size#42.5'' H x 64.5'' W x 85.5'' L# 88 lb\"}"], ["overview", "{\"Headboard Included\",\"Footboard Included\",\"Center Supports Included\",\"Warranty Length: 1 Year\"}"], ["category", "bed"], ["created_at", "2022-04-27 03:24:35.268416"], ["updated_at", "2022-04-27 03:24:35.268416"], ["custom_design", false], ["avg_star", 0.0]]
  ↳ app/controllers/products_controller.rb:11:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:11:in `create'
Completed 200 OK in 145ms (Views: 1.8ms | ActiveRecord: 37.9ms | Allocations: 16466)


Started POST "/products/21/ratings" for ::1 at 2022-04-27 10:24:57 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"21", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (8.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 03:24:58.112389"], ["avg_star", 5.0], ["id", 21]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mRating Create (3.3ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Good reviews"], ["user_id", 2], ["product_id", 21], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 03:24:58.177707"], ["updated_at", "2022-04-27 03:24:58.177707"]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
Completed 200 OK in 251ms (Views: 1.2ms | ActiveRecord: 31.2ms | Allocations: 32174)


Started POST "/products/21/ratings" for ::1 at 2022-04-27 10:25:00 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"21", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mRating Create (0.7ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Good reviews"], ["user_id", 2], ["product_id", 21], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 03:25:00.792648"], ["updated_at", "2022-04-27 03:25:00.792648"]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
Completed 200 OK in 62ms (Views: 2.0ms | ActiveRecord: 6.8ms | Allocations: 6464)


Started POST "/products/21/ratings" for ::1 at 2022-04-27 10:25:02 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"21", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mRating Create (0.9ms)[0m  [1m[32mINSERT INTO "ratings" ("title", "user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Good reviews"], ["user_id", 2], ["product_id", 21], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 03:25:02.431566"], ["updated_at", "2022-04-27 03:25:02.431566"]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
Completed 200 OK in 40ms (Views: 1.0ms | ActiveRecord: 4.6ms | Allocations: 6394)


Started DELETE "/products/21" for ::1 at 2022-04-27 10:25:18 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct::HABTM_Orders Delete All (2.7ms)[0m  [1m[31mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct Destroy (32.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
Completed 500 Internal Server Error in 294ms (ActiveRecord: 41.2ms | Allocations: 21468)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  update or delete on table "products" violates foreign key constraint "fk_rails_f846e598a7" on table "ratings"
DETAIL:  Key (id)=(21) is still referenced from table "ratings".
):
  
app/controllers/products_controller.rb:34:in `destroy'
Started GET "/products/21" for ::1 at 2022-04-27 10:29:08 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Completed 200 OK in 93ms (Views: 1.3ms | ActiveRecord: 10.9ms | Allocations: 24130)


Started GET "/products/21/ratings" for ::1 at 2022-04-27 10:29:18 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
  [1m[36mRating Load (2.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:100:in `show_ratings'
Completed 200 OK in 39ms (Views: 2.6ms | ActiveRecord: 8.6ms | Allocations: 9095)


Started DELETE "/products/21" for ::1 at 2022-04-27 10:29:24 +0700
Processing by ProductsController#destroy as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mRating Delete All (1.7ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct::HABTM_Orders Delete All (3.1ms)[0m  [1m[31mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 21]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mProduct Destroy (1.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/products_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:34:in `destroy'
Completed 200 OK in 72ms (Views: 0.4ms | ActiveRecord: 12.4ms | Allocations: 18294)


Started GET "/products/21/ratings" for ::1 at 2022-04-27 10:29:29 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:132:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 8ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 784)


  [1m[35m (2.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeleteTitleInRating (20220427062957)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.0ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "title"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220427062957"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products/21/ratings" for ::1 at 2022-04-27 13:36:41 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"21", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (6.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
Completed 500 Internal Server Error in 219ms (ActiveRecord: 35.4ms | Allocations: 14753)


  
NoMethodError (undefined method `ratings' for nil:NilClass):
  
app/controllers/products_controller.rb:109:in `create_ratings'
Started POST "/products/1/ratings" for ::1 at 2022-04-27 13:36:56 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "title"=>"Good reviews", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (8.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mProduct Update (7.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 06:36:57.475595"], ["avg_star", 2.0], ["id", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
Completed 500 Internal Server Error in 476ms (ActiveRecord: 30.4ms | Allocations: 23036)


  
ActiveModel::UnknownAttributeError (unknown attribute 'title' for Rating.):
  
app/controllers/products_controller.rb:114:in `create_ratings'
Started POST "/products/1/ratings" for ::1 at 2022-04-27 13:37:09 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mProduct Update (1.2ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 06:37:09.577774"], ["avg_star", 2.4285714285714284], ["id", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
Completed 500 Internal Server Error in 201ms (ActiveRecord: 5.6ms | Allocations: 4488)


  
ActiveModel::UnknownAttributeError (unknown attribute 'title' for Rating.):
  
app/controllers/products_controller.rb:114:in `create_ratings'
Started POST "/products/1/ratings" for ::1 at 2022-04-27 13:38:25 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"1", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:105:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:106:in `create_ratings'
  [1m[36mRating Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:109:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 06:38:26.485494"], ["avg_star", 2.7959183673469385], ["id", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mRating Create (10.3ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 1], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 06:38:26.565101"], ["updated_at", "2022-04-27 06:38:26.565101"]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
Completed 200 OK in 205ms (Views: 5.7ms | ActiveRecord: 39.8ms | Allocations: 25286)


Started POST "/products/50/ratings" for ::1 at 2022-04-27 13:41:09 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"50", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (2.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:131:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 69ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 5867)


Started GET "/products/21/ratings" for ::1 at 2022-04-27 14:07:33 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:131:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 99ms (Views: 1.1ms | ActiveRecord: 10.6ms | Allocations: 16188)


Started GET "/products/1/ratings" for ::1 at 2022-04-27 14:07:40 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:131:in `set_product'
  [1m[36mRating Load (5.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:100:in `show_ratings'
Completed 200 OK in 165ms (Views: 9.2ms | ActiveRecord: 21.3ms | Allocations: 16707)


  [1m[36mProduct Load (7.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Load (6.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
Started GET "/products/1/ratings" for ::1 at 2022-04-27 15:04:57 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (7.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:136:in `set_product'
  [1m[36mRating Load (5.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 500 Internal Server Error in 205ms (ActiveRecord: 39.0ms | Allocations: 38614)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `name`):
  
app/controllers/products_controller.rb:99:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/1/ratings" for ::1 at 2022-04-27 15:05:34 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:136:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 500 Internal Server Error in 118ms (ActiveRecord: 18.2ms | Allocations: 23487)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `name`):
  
app/controllers/products_controller.rb:99:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/1/ratings" for ::1 at 2022-04-27 15:05:51 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:136:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 1]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 200 OK in 168ms (Views: 14.4ms | ActiveRecord: 23.4ms | Allocations: 29663)


Started GET "/products/3/ratings" for ::1 at 2022-04-27 15:06:54 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 3]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 200 OK in 94ms (Views: 0.9ms | ActiveRecord: 10.4ms | Allocations: 15560)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:06:58 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 1378)


Started GET "/products/21/ratings" for ::1 at 2022-04-27 15:07:02 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 10ms (Views: 0.8ms | ActiveRecord: 1.4ms | Allocations: 729)


Started GET "/products/19/ratings" for ::1 at 2022-04-27 15:07:05 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"19"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 7ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 722)


Started POST "/products/2/ratings" for ::1 at 2022-04-27 15:07:21 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"2", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mRating Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mProduct Update (8.8ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 08:07:21.680806"], ["avg_star", 5.0], ["id", 2]]
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mRating Create (4.0ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 2], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:07:21.738514"], ["updated_at", "2022-04-27 08:07:21.738514"]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
Completed 200 OK in 226ms (Views: 4.3ms | ActiveRecord: 29.0ms | Allocations: 24083)


Started GET "/products/2/ratings" for ::1 at 2022-04-27 15:07:34 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 19ms (Views: 1.9ms | ActiveRecord: 1.4ms | Allocations: 3040)


Started POST "/products/2/ratings" for ::1 at 2022-04-27 15:09:23 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"2", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mRating Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mRating Create (1.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 2], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:09:24.700656"], ["updated_at", "2022-04-27 08:09:24.700656"]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
Completed 200 OK in 313ms (Views: 9.4ms | ActiveRecord: 34.8ms | Allocations: 22447)


Started GET "/products/2/ratings" for ::1 at 2022-04-27 15:09:33 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 27ms (Views: 5.0ms | ActiveRecord: 1.3ms | Allocations: 3250)


Started POST "/products/2/ratings" for ::1 at 2022-04-27 15:10:22 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"2", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mRating Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mRating Create (1.1ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 2], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:10:23.784277"], ["updated_at", "2022-04-27 08:10:23.784277"]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
Completed 200 OK in 114ms (Views: 1.8ms | ActiveRecord: 23.3ms | Allocations: 22431)


Started GET "/products/2/ratings" for ::1 at 2022-04-27 15:10:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 2]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.0ms | Allocations: 4657)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 2], ["LIMIT", 11]]
  
NoMethodError (undefined method `email' for #<ActiveRecord::Relation [#<User id: 2, email: "lamtoan@gmail.com", password_digest: [FILTERED], created_at: "2022-04-22 07:50:38.545302000 +0000", updated_at: "2022-04-22 07:50:38.545302000 +0000">]>):
  
app/controllers/products_controller.rb:100:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started POST "/products/3/ratings" for ::1 at 2022-04-27 15:11:54 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"3", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 3]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mProduct Update (1.0ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 08:11:54.811907"], ["avg_star", 5.0], ["id", 3]]
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mRating Create (0.9ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 3], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:11:54.855781"], ["updated_at", "2022-04-27 08:11:54.855781"]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
Completed 200 OK in 135ms (Views: 1.1ms | ActiveRecord: 26.0ms | Allocations: 24283)


Started GET "/products/3/ratings" for ::1 at 2022-04-27 15:12:00 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 3]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 200 OK in 20ms (Views: 1.2ms | ActiveRecord: 2.0ms | Allocations: 2979)


Started POST "/products/4/ratings" for ::1 at 2022-04-27 15:12:36 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"4", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:111:in `create_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 08:12:37.748351"], ["avg_star", 5.0], ["id", 4]]
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mRating Create (0.9ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 4], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:12:37.793954"], ["updated_at", "2022-04-27 08:12:37.793954"]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
Completed 200 OK in 148ms (Views: 3.1ms | ActiveRecord: 22.7ms | Allocations: 24220)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:12:44 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 22ms (Views: 1.3ms | ActiveRecord: 1.7ms | Allocations: 3630)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:13:40 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 200 OK in 390ms (Views: 3.0ms | ActiveRecord: 21.4ms | Allocations: 17413)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:14:08 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 189ms (Views: 1.5ms | ActiveRecord: 28.9ms | Allocations: 23151)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:14:16 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 247ms (Views: 1.9ms | ActiveRecord: 29.4ms | Allocations: 23184)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:14:31 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (2.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 200 OK in 164ms (Views: 1.9ms | ActiveRecord: 28.3ms | Allocations: 23156)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:15:41 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 500 Internal Server Error in 136ms (ActiveRecord: 26.1ms | Allocations: 23183)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `name`):
  
app/controllers/products_controller.rb:99:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:16:16 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:137:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:99:in `block in show_ratings'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 15.2ms | Allocations: 25735)


  
NoMethodError (undefined method `merge!' for #<Rating id: 15, user_id: 2, product_id: 4, description: "The product is not like the picture", image: ["a", "b"], category: "5 Stars", star: 5, created_at: "2022-04-27 08:12:37.793954000 +0000", updated_at: "2022-04-27 08:12:37.793954000 +0000">):
  
app/controllers/products_controller.rb:99:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:16:53 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 200 OK in 69ms (Views: 1.1ms | ActiveRecord: 11.1ms | Allocations: 17509)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:17:50 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 13.7ms | Allocations: 19939)


  
NoMethodError (undefined method `to_h' for #<Rating id: 15, user_id: 2, product_id: 4, description: "The product is not like the picture", image: ["a", "b"], category: "5 Stars", star: 5, created_at: "2022-04-27 08:12:37.793954000 +0000", updated_at: "2022-04-27 08:12:37.793954000 +0000">
Did you mean?  to_s):
  
app/controllers/products_controller.rb:99:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:18:23 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 500 Internal Server Error in 88ms (ActiveRecord: 14.3ms | Allocations: 22502)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/controllers/products_controller.rb:100:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:18:59 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 200 OK in 126ms (Views: 1.2ms | ActiveRecord: 19.3ms | Allocations: 17456)


Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:19:31 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
Completed 500 Internal Server Error in 99ms (ActiveRecord: 11.7ms | Allocations: 20613)


  
ArgumentError (odd number of arguments for Hash):
  
app/controllers/products_controller.rb:100:in `[]'
app/controllers/products_controller.rb:100:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/4/ratings" for ::1 at 2022-04-27 15:21:28 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 17.4ms | Allocations: 22493)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/controllers/products_controller.rb:100:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started POST "/products/4/ratings" for ::1 at 2022-04-27 15:21:46 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"4", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:112:in `create_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 4]]
  ↳ app/controllers/products_controller.rb:116:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mRating Create (1.0ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 4], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:21:46.725240"], ["updated_at", "2022-04-27 08:21:46.725240"]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
Completed 200 OK in 68ms (Views: 1.2ms | ActiveRecord: 8.7ms | Allocations: 10840)


Started POST "/products/5/ratings" for ::1 at 2022-04-27 15:21:57 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:112:in `create_ratings'
  [1m[36mRating Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:116:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-27 08:21:57.886554"], ["avg_star", 5.0], ["id", 5]]
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mRating Create (0.8ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:21:57.913034"], ["updated_at", "2022-04-27 08:21:57.913034"]]
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:121:in `create_ratings'
Completed 200 OK in 78ms (Views: 1.0ms | ActiveRecord: 6.9ms | Allocations: 7998)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:22:07 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.4ms | Allocations: 2772)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/controllers/products_controller.rb:100:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started POST "/products/5/ratings" for ::1 at 2022-04-27 15:22:50 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>"5 Stars", "star"=>5, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>"5 Stars"}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:113:in `create_ratings'
  [1m[36mRating Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mRating Create (0.8ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "category", "star", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["category", "5 Stars"], ["star", 5], ["created_at", "2022-04-27 08:22:51.722627"], ["updated_at", "2022-04-27 08:22:51.722627"]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
Completed 200 OK in 150ms (Views: 2.5ms | ActiveRecord: 27.9ms | Allocations: 22497)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:23:02 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:101:in `block in show_ratings'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.2ms | Allocations: 2966)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/controllers/products_controller.rb:101:in `block in show_ratings'
app/controllers/products_controller.rb:98:in `show_ratings'
Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:23:18 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:101:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:101:in `block in show_ratings'
Completed 200 OK in 127ms (Views: 2.0ms | ActiveRecord: 17.0ms | Allocations: 23943)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:23:44 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 129ms (Views: 2.6ms | ActiveRecord: 20.1ms | Allocations: 23803)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:24:00 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:98:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 114ms (Views: 1.5ms | ActiveRecord: 19.8ms | Allocations: 23815)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:25:01 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:109: syntax error, unexpected local variable or method, expecting '}'
        total: ratings.length
        ^~~~~
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:110: syntax error, unexpected '}', expecting `end'
    }
    ^
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/products_controller.rb:150: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/products_controller.rb:109: syntax error, unexpected local variable or method, expecting '}'
app/controllers/products_controller.rb:110: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:150: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:109: syntax error, unexpected local variable or method, expecting '}'
app/controllers/products_controller.rb:110: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:150: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:109: syntax error, unexpected local variable or method, expecting '}'
app/controllers/products_controller.rb:110: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:150: syntax error, unexpected end-of-input, expecting `end'
Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:25:09 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:99:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 202ms (Views: 2.7ms | ActiveRecord: 16.8ms | Allocations: 23850)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:28:14 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:99:in `show_ratings'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 500 Internal Server Error in 129ms (ActiveRecord: 21.2ms | Allocations: 25656)


  
NoMethodError (undefined method `name=' for #<Rating id: 17, user_id: 2, product_id: 5, description: "The product is not like the picture", image: ["a", "b"], category: "5 Stars", star: 5, created_at: "2022-04-27 08:21:57.913034000 +0000", updated_at: "2022-04-27 08:21:57.913034000 +0000">):
  
app/controllers/products_controller.rb:101:in `block in show_ratings'
app/controllers/products_controller.rb:99:in `show_ratings'
  [1m[36mRating Load (4.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" ORDER BY "ratings"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:35:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (4.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (3.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:93:in `show_ratings'
Completed 200 OK in 217ms (Views: 0.4ms | ActiveRecord: 27.0ms | Allocations: 19455)


Started GET "/products/5/ratings" for ::1 at 2022-04-27 15:38:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (1.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:93:in `show_ratings'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:100:in `block in show_ratings'
Completed 200 OK in 206ms (Views: 0.7ms | ActiveRecord: 57.5ms | Allocations: 23895)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNameToUser (20220427091009)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.6ms)[0m  [1m[35mALTER TABLE "users" ADD "name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220427091009"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (5.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/2/orders" for ::1 at 2022-04-27 16:19:22 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show_order as */*
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (5.9ms)[0m  [1m[34mSELECT "orders"."id", "orders"."status", "orders"."total_price", "orders"."description", "orders"."address" FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  ↳ app/controllers/users_controller.rb:31:in `show_order'
Completed 200 OK in 143ms (Views: 1.4ms | ActiveRecord: 11.3ms | Allocations: 14744)


Started GET "/users/1/orders" for ::1 at 2022-04-27 16:19:28 +0700
Processing by UsersController#show_order as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders"."id", "orders"."status", "orders"."total_price", "orders"."description", "orders"."address" FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/users_controller.rb:31:in `show_order'
Completed 200 OK in 896ms (Views: 1.5ms | ActiveRecord: 15.9ms | Allocations: 14417)


Started GET "/orders/1" for ::1 at 2022-04-27 16:26:41 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (2.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:83:in `set_order'
Completed 200 OK in 228ms (Views: 2.2ms | ActiveRecord: 19.7ms | Allocations: 13466)


  [1m[36mOrder Load (2.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (11.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mOrder Load (3.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (3.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrdersProduct Load (4.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 1]]
Started GET "/orders/1" for ::1 at 2022-04-27 16:49:39 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (3.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[36mOrdersProduct Load (3.0ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 1]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 260ms (Views: 33.1ms | ActiveRecord: 44.4ms | Allocations: 23302)


Started GET "/orders/16" for ::1 at 2022-04-27 17:16:57 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (15.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (9.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[36mOrdersProduct Load (13.1ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 738ms (Views: 157.4ms | ActiveRecord: 63.4ms | Allocations: 30791)


Started GET "/orders/16" for ::1 at 2022-04-27 17:17:56 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[36mOrdersProduct Load (0.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
Completed 500 Internal Server Error in 218ms (ActiveRecord: 17.6ms | Allocations: 15839)


  [1m[36mCACHE OrdersProduct Load (0.1ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
  
NoMethodError (undefined method `product_id' for #<ActiveRecord::Associations::CollectionProxy [#<OrdersProduct id: 14, order_id: 16, product_id: 1, created_at: "2022-04-24 10:27:51.606152000 +0000", updated_at: "2022-04-24 10:27:51.721006000 +0000", quantity: 5, size: "a", color: "red">, #<OrdersProduct id: 15, order_id: 16, product_id: 2, created_at: "2022-04-24 10:27:51.619129000 +0000", updated_at: "2022-04-24 10:27:51.781374000 +0000", quantity: 9, size: "a", color: "blue">, #<OrdersProduct id: 16, order_id: 16, product_id: 3, created_at: "2022-04-24 10:27:51.629340000 +0000", updated_at: "2022-04-24 10:27:51.838056000 +0000", quantity: 2, size: "a", color: "green">]>):
  
app/controllers/orders_controller.rb:22:in `show'
  [1m[36mOrder Load (2.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrdersProduct Load (3.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
  [1m[36mOrdersProduct Load (0.9ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
Started GET "/orders/16" for ::1 at 2022-04-27 17:19:54 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[36mOrdersProduct Load (0.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
Completed 500 Internal Server Error in 220ms (ActiveRecord: 12.2ms | Allocations: 15802)


  [1m[36mCACHE OrdersProduct Load (0.0ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
  
NoMethodError (undefined method `product_ids' for #<ActiveRecord::Associations::CollectionProxy [#<OrdersProduct id: 14, order_id: 16, product_id: 1, created_at: "2022-04-24 10:27:51.606152000 +0000", updated_at: "2022-04-24 10:27:51.721006000 +0000", quantity: 5, size: "a", color: "red">, #<OrdersProduct id: 15, order_id: 16, product_id: 2, created_at: "2022-04-24 10:27:51.619129000 +0000", updated_at: "2022-04-24 10:27:51.781374000 +0000", quantity: 9, size: "a", color: "blue">, #<OrdersProduct id: 16, order_id: 16, product_id: 3, created_at: "2022-04-24 10:27:51.629340000 +0000", updated_at: "2022-04-24 10:27:51.838056000 +0000", quantity: 2, size: "a", color: "green">]>):
  
app/controllers/orders_controller.rb:22:in `show'
  [1m[36mOrdersProduct Load (0.8ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
  [1m[36mOrdersProduct Load (0.5ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1 /* loading for inspect */ LIMIT $2[0m  [["order_id", 16], ["LIMIT", 11]]
Started GET "/orders/16" for ::1 at 2022-04-27 17:23:10 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:85:in `set_order'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 11.9ms | Allocations: 10708)


  
ActiveRecord::UnknownAttributeReference (Dangerous query method (method whose arguments are used as raw SQL) called with non-attribute argument(s): nil.This method should not be called with user-provided values, such as request parameters or model attributes. Known-safe values can be passed by wrapping them in Arel.sql().):
  
app/controllers/orders_controller.rb:20:in `show'
Started GET "/orders/16" for ::1 at 2022-04-27 17:23:29 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:85:in `set_order'
  [1m[36mOrdersProduct Pluck (0.8ms)[0m  [1m[34mSELECT "orders_products"."product_id" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 78ms (Views: 1.3ms | ActiveRecord: 13.3ms | Allocations: 11240)


Started GET "/orders/16" for ::1 at 2022-04-27 17:25:45 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[36mOrdersProduct Pluck (0.6ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 130ms (Views: 2.6ms | ActiveRecord: 21.4ms | Allocations: 11274)


Started GET "/orders/16" for ::1 at 2022-04-27 17:27:23 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[36mOrdersProduct Load (1.1ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:22:in `show'
Completed 200 OK in 84ms (Views: 10.6ms | ActiveRecord: 16.7ms | Allocations: 12976)


Started GET "/orders/16" for ::1 at 2022-04-27 17:29:24 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[36mOrdersProduct Load (0.6ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:22:in `show'
Completed 200 OK in 90ms (Views: 10.6ms | ActiveRecord: 19.1ms | Allocations: 13045)


Started GET "/orders/16" for ::1 at 2022-04-27 18:41:08 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (8.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (8.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[36mOrdersProduct Load (8.1ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:22:in `show'
Completed 200 OK in 720ms (Views: 25.5ms | ActiveRecord: 55.4ms | Allocations: 28787)


Started GET "/orders/16" for ::1 at 2022-04-27 18:41:33 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:20: syntax error, unexpected ',', expecting =>
...ct(product_id: :id , :quantity, :size, :color)    
...                              ^
):
  
app/controllers/orders_controller.rb:20: syntax error, unexpected ',', expecting =>
app/controllers/orders_controller.rb:20: syntax error, unexpected ',', expecting =>
app/controllers/orders_controller.rb:20: syntax error, unexpected ',', expecting =>
Started GET "/orders/16" for ::1 at 2022-04-27 18:44:10 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:88:in `set_order'
  [1m[36mOrdersProduct Pluck (0.5ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 92ms (Views: 2.1ms | ActiveRecord: 13.0ms | Allocations: 11356)


Started GET "/orders/16" for ::1 at 2022-04-27 18:44:34 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:88:in `set_order'
  [1m[36mOrdersProduct Pluck (1.1ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 204ms (Views: 2.4ms | ActiveRecord: 20.3ms | Allocations: 11351)


Started GET "/orders/16" for ::1 at 2022-04-27 18:48:20 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `set_order'
  [1m[36mOrdersProduct Pluck (0.6ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
Completed 200 OK in 96ms (Views: 1.2ms | ActiveRecord: 11.5ms | Allocations: 11376)


Started POST "/users/2/orders" for ::1 at 2022-04-27 19:07:35 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[0, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"2"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mOrder Create (26.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:07:35.883004"], ["updated_at", "2022-04-27 12:07:35.883004"]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mProduct Load (9.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 553ms (ActiveRecord: 103.5ms | Allocations: 35315)


  
ActiveRecord::HasManyThroughOrderError (Cannot have a has_many :through association 'Order#products' which goes through 'Order#orders_products' before the through association is defined.):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/2/orders" for ::1 at 2022-04-27 19:08:08 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"2"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:08:09.255589"], ["updated_at", "2022-04-27 12:08:09.255589"]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 223ms (ActiveRecord: 7.4ms | Allocations: 6030)


  
ActiveRecord::HasManyThroughOrderError (Cannot have a has_many :through association 'Order#products' which goes through 'Order#orders_products' before the through association is defined.):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:10:52 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:10:52.625223"], ["updated_at", "2022-04-27 12:10:52.625223"]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 5.6ms | Allocations: 5797)


  
ActiveRecord::HasManyThroughOrderError (Cannot have a has_many :through association 'Order#products' which goes through 'Order#orders_products' before the through association is defined.):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:11:35 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 131ms (ActiveRecord: 24.3ms | Allocations: 15478)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:11:49 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 166ms (ActiveRecord: 21.3ms | Allocations: 15417)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:13:15 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.6ms | Allocations: 2766)


  
ArgumentError (wrong number of arguments (given 2, expected 0..1)):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:13:52 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
Completed 500 Internal Server Error in 156ms (ActiveRecord: 21.5ms | Allocations: 20338)


  
ActiveRecord::HasManyThroughOrderError (Cannot have a has_many :through association 'Order#products' which goes through 'Order#orders_products' before the through association is defined.):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:15:42 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mOrder Create (2.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:15:42.972371"], ["updated_at", "2022-04-27 12:15:42.972371"]]
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mOrdersProduct Load (6.8ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 20]]
  ↳ app/controllers/orders_controller.rb:78:in `each_with_index'
Completed 500 Internal Server Error in 269ms (ActiveRecord: 51.7ms | Allocations: 26215)


  
ActiveRecord::HasManyThroughOrderError (Cannot have a has_many :through association 'Order#products' which goes through 'Order#orders_products' before the through association is defined.):
  
app/controllers/orders_controller.rb:88:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:17:34 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:17:34.769238"], ["updated_at", "2022-04-27 12:17:34.769238"]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
Completed 422 Unprocessable Entity in 338ms (ActiveRecord: 30.2ms | Allocations: 35934)


  
ActiveRecord::RecordInvalid (Validation failed: Quantity can't be blank, Quantity is not a number, Size can't be blank, Color can't be blank):
  
app/controllers/orders_controller.rb:74:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:22:09 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:22:10.667712"], ["updated_at", "2022-04-27 12:22:10.667712"]]
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:63:in `create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:68:in `block in create'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:71:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mOrdersProduct Create (7.3ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 22], ["product_id", 1], ["created_at", "2022-04-27 12:22:10.833912"], ["updated_at", "2022-04-27 12:22:10.833912"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mOrdersProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 22], ["product_id", 2], ["created_at", "2022-04-27 12:22:10.851697"], ["updated_at", "2022-04-27 12:22:10.851697"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mOrdersProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 22], ["product_id", 3], ["created_at", "2022-04-27 12:22:10.863746"], ["updated_at", "2022-04-27 12:22:10.863746"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:74:in `create'
  [1m[36mProduct Load (4.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 22]]
  ↳ app/controllers/orders_controller.rb:83:in `create'
Completed 200 OK in 413ms (Views: 92.9ms | ActiveRecord: 55.3ms | Allocations: 38373)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:34:05 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:64: syntax error, unexpected `and'
    and !params[:quantity].include? 0
    ^~~
):
  
app/controllers/orders_controller.rb:64: syntax error, unexpected `and'
app/controllers/orders_controller.rb:64: syntax error, unexpected `and'
app/controllers/orders_controller.rb:64: syntax error, unexpected `and'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:34:18 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:64: syntax error, unexpected &&
    && !params[:quantity].include? 0
    ^~
):
  
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:34:36 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:63: syntax error, unexpected integer literal, expecting `then' or ';' or '\n'
...& !params[:quantity].include? 0
...                              ^
D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:117: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/orders_controller.rb:63: syntax error, unexpected integer literal, expecting `then' or ';' or '\n'
app/controllers/orders_controller.rb:117: syntax error, unexpected `end', expecting end-of-input
app/controllers/orders_controller.rb:63: syntax error, unexpected integer literal, expecting `then' or ';' or '\n'
app/controllers/orders_controller.rb:117: syntax error, unexpected `end', expecting end-of-input
app/controllers/orders_controller.rb:63: syntax error, unexpected integer literal, expecting `then' or ';' or '\n'
app/controllers/orders_controller.rb:117: syntax error, unexpected `end', expecting end-of-input
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:36:07 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mOrder Create (6.4ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:36:08.289676"], ["updated_at", "2022-04-27 12:36:08.289676"]]
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:77:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (6.3ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 23], ["product_id", 1], ["created_at", "2022-04-27 12:36:08.413941"], ["updated_at", "2022-04-27 12:36:08.413941"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (2.3ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 23], ["product_id", 2], ["created_at", "2022-04-27 12:36:08.440656"], ["updated_at", "2022-04-27 12:36:08.440656"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 23], ["product_id", 3], ["created_at", "2022-04-27 12:36:08.452348"], ["updated_at", "2022-04-27 12:36:08.452348"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Load (3.2ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 23]]
  ↳ app/controllers/orders_controller.rb:85:in `each_with_index'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (6.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.502407"], ["quantity", 1], ["id", 20]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (1.2ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.522662"], ["size", "a"], ["id", 20]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.540500"], ["color", "red"], ["id", 20]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.577722"], ["quantity", 9], ["id", 21]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (1.0ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.588847"], ["size", "a"], ["id", 21]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (1.3ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.606811"], ["color", "blue"], ["id", 21]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.646203"], ["quantity", 2], ["id", 22]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.661315"], ["size", "a"], ["id", 22]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:08.682465"], ["color", "green"], ["id", 22]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 23]]
  ↳ app/controllers/orders_controller.rb:91:in `create'
Completed 200 OK in 689ms (Views: 20.6ms | ActiveRecord: 82.2ms | Allocations: 62746)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:36:44 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 2], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:36:45.037438"], ["updated_at", "2022-04-27 12:36:45.037438"]]
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:69:in `create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:74:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:77:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 24], ["product_id", 1], ["created_at", "2022-04-27 12:36:45.230687"], ["updated_at", "2022-04-27 12:36:45.230687"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 24], ["product_id", 2], ["created_at", "2022-04-27 12:36:45.258097"], ["updated_at", "2022-04-27 12:36:45.258097"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Create (3.3ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 24], ["product_id", 3], ["created_at", "2022-04-27 12:36:45.297691"], ["updated_at", "2022-04-27 12:36:45.297691"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:80:in `create'
  [1m[36mOrdersProduct Load (0.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 24]]
  ↳ app/controllers/orders_controller.rb:85:in `each_with_index'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.377802"], ["quantity", 1], ["id", 23]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (2.2ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.391759"], ["size", "a"], ["id", 23]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (1.0ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.407713"], ["color", "red"], ["id", 23]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (2.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (1.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.462807"], ["quantity", 9], ["id", 24]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (1.2ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.474957"], ["size", "a"], ["id", 24]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.493605"], ["color", "blue"], ["id", 24]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.539585"], ["quantity", 2], ["id", 25]]
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:86:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mOrdersProduct Update (1.0ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.552368"], ["size", "a"], ["id", 25]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:36:45.572362"], ["color", "green"], ["id", 25]]
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:88:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 24]]
  ↳ app/controllers/orders_controller.rb:91:in `create'
Completed 200 OK in 707ms (Views: 28.2ms | ActiveRecord: 112.7ms | Allocations: 61697)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:40:20 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 7ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 1214)


  
NoMethodError (undefined method `length' for nil:NilClass):
  
app/controllers/orders_controller.rb:70:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:40:39 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 16ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 795)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/orders_controller.rb:71:in `create'
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:41:12 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 381)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:41:34 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 0], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 231)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:41:39 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 5], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:79:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:79:in `create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:41:39.779761"], ["updated_at", "2022-04-27 12:41:39.779761"]]
  ↳ app/controllers/orders_controller.rb:79:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:79:in `create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `block in create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mOrdersProduct Create (3.4ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 25], ["product_id", 1], ["created_at", "2022-04-27 12:41:39.888363"], ["updated_at", "2022-04-27 12:41:39.888363"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mOrdersProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 25], ["product_id", 2], ["created_at", "2022-04-27 12:41:39.899276"], ["updated_at", "2022-04-27 12:41:39.899276"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mOrdersProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 25], ["product_id", 3], ["created_at", "2022-04-27 12:41:39.908521"], ["updated_at", "2022-04-27 12:41:39.908521"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mOrdersProduct Load (3.1ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 25]]
  ↳ app/controllers/orders_controller.rb:95:in `each_with_index'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:39.951952"], ["quantity", 1], ["id", 26]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:39.963759"], ["size", "a"], ["id", 26]]
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mOrdersProduct Update (1.1ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:39.978600"], ["color", "red"], ["id", 26]]
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrdersProduct Update (1.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.021482"], ["quantity", 9], ["id", 27]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.032891"], ["size", "a"], ["id", 27]]
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.048434"], ["color", "blue"], ["id", 27]]
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.080620"], ["quantity", 5], ["id", 28]]
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:96:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.093069"], ["size", "a"], ["id", 28]]
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:97:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:41:40.106049"], ["color", "green"], ["id", 28]]
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:98:in `block in create'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 25]]
  ↳ app/controllers/orders_controller.rb:101:in `create'
Completed 200 OK in 419ms (Views: 14.0ms | ActiveRecord: 67.0ms | Allocations: 61347)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:42:22 +0700
  
SyntaxError (D:/Tryhard/212-Semester/Electronic Commerce/BTL/furniture/backend/app/controllers/orders_controller.rb:64: syntax error, unexpected &&
      && !(params[:quantity].all? { |...
      ^~
):
  
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
app/controllers/orders_controller.rb:64: syntax error, unexpected &&
Started POST "/users/1/orders" for ::1 at 2022-04-27 19:42:31 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 5], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 383)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:42:59 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2, 3], "quantity"=>[1, 9, 5], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:82:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:82:in `create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "status", "total_price", "description", "address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["status", "Pending"], ["total_price", 50], ["description", "Normal Shipping"], ["address", nil], ["created_at", "2022-04-27 12:43:00.621628"], ["updated_at", "2022-04-27 12:43:00.621628"]]
  ↳ app/controllers/orders_controller.rb:82:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:82:in `create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `block in create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:90:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:93:in `create'
  [1m[36mOrdersProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 26], ["product_id", 1], ["created_at", "2022-04-27 12:43:00.758989"], ["updated_at", "2022-04-27 12:43:00.758989"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:93:in `create'
  [1m[36mOrdersProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 26], ["product_id", 2], ["created_at", "2022-04-27 12:43:00.769740"], ["updated_at", "2022-04-27 12:43:00.769740"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:93:in `create'
  [1m[36mOrdersProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "orders_products" ("order_id", "product_id", "created_at", "updated_at", "quantity", "size", "color") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["order_id", 26], ["product_id", 3], ["created_at", "2022-04-27 12:43:00.780797"], ["updated_at", "2022-04-27 12:43:00.780797"], ["quantity", nil], ["size", nil], ["color", nil]]
  ↳ app/controllers/orders_controller.rb:93:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:93:in `create'
  [1m[36mOrdersProduct Load (0.7ms)[0m  [1m[34mSELECT "orders_products".* FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 26]]
  ↳ app/controllers/orders_controller.rb:98:in `each_with_index'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.826799"], ["quantity", 1], ["id", 29]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mOrdersProduct Update (1.5ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.838346"], ["size", "a"], ["id", 29]]
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.854593"], ["color", "red"], ["id", 29]]
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.890605"], ["quantity", 9], ["id", 30]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mOrdersProduct Update (0.8ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.902358"], ["size", "a"], ["id", 30]]
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mOrdersProduct Update (1.0ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.937769"], ["color", "blue"], ["id", 30]]
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mOrdersProduct Update (0.9ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "quantity" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.973190"], ["quantity", 5], ["id", 31]]
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:99:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mOrdersProduct Update (1.4ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "size" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:00.994493"], ["size", "a"], ["id", 31]]
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:100:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mOrdersProduct Update (0.7ms)[0m  [1m[33mUPDATE "orders_products" SET "updated_at" = $1, "color" = $2 WHERE "orders_products"."id" = $3[0m  [["updated_at", "2022-04-27 12:43:01.008715"], ["color", "green"], ["id", 31]]
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/orders_controller.rb:101:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 26]]
  ↳ app/controllers/orders_controller.rb:104:in `create'
Completed 200 OK in 501ms (Views: 16.2ms | ActiveRecord: 66.0ms | Allocations: 61586)


Started POST "/users/1/orders" for ::1 at 2022-04-27 19:43:15 +0700
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"status"=>"Pending", "total_price"=>50, "description"=>"Normal Shipping"}, "products"=>[1, 2], "quantity"=>[1, 9, 5], "size"=>["a", "a", "a"], "color"=>["red", "blue", "green"], "id"=>"1"}
Can't verify CSRF token authenticity.
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 247)


  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.0ms)[0m  [1m[35mALTER TABLE "ratings" ALTER COLUMN "category" TYPE varchar[] USING CAST(category AS varchar[])[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (65.8ms)[0m  [1m[35mALTER TABLE "ratings" ALTER COLUMN "category" TYPE varchar[] USING CAST(category AS varchar[])[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
Started GET "/users/1/orders" for ::1 at 2022-04-28 13:50:02 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
>>>>>>> origin/tmai
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

<<<<<<< HEAD
20220405025546_add_quantity_to_orders_products.rb
=======
20220428062225_change_ratings_category_to_array.rb
>>>>>>> origin/tmai


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
<<<<<<< HEAD
  [1m[35m (2.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8737313746284877740)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToOrdersProducts (20220405025546)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "orders_products" ADD "quantity" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220405025546"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8737313746284877740)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/signup" for ::1 at 2022-04-22 15:19:26 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/signup"):
  
Started POST "/sign-up" for ::1 at 2022-04-22 15:20:18 +0700
  
SyntaxError (C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:1: syntax error, unexpected <<
<<<<<<< HEAD
^~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
=======
^~~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
>>>>>>> origin/xvu
^~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
Started POST "/sign-up" for ::1 at 2022-04-22 15:20:49 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:1: syntax error, unexpected <<
<<<<<<< HEAD
^~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
=======
^~~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
>>>>>>> origin/xvu
^~
C:/Users/hdthinh1012/Github Sync/ECommerce Assigment/Funiture Multiple Repo/Furniture-Thinh/backend/app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:1: syntax error, unexpected <<
app/controllers/users_controller.rb:33: syntax error, unexpected ===, expecting `end'
app/controllers/users_controller.rb:64: syntax error, unexpected >>, expecting `end'
app/controllers/users_controller.rb:65: syntax error, unexpected end-of-input, expecting `end'
Started POST "/sign-up" for ::1 at 2022-04-22 15:22:08 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "hdthinh01@gmail.com"], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-22 08:22:09.759170"], ["updated_at", "2022-04-22 08:22:09.759170"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 13813)


Started POST "/sign-up" for ::1 at 2022-04-22 15:43:06 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 136ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 7279)


Started POST "/sign-up" for ::1 at 2022-04-22 15:44:33 +0700
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 12 pending migrations:

20220315131220_create_users.rb
20220315132603_create_addresses.rb
20220316050629_create_products.rb
20220316131636_create_ratings.rb
20220316133802_rename_type_to_category.rb
20220319170533_change_product_overview.rb
20220319173145_add_index_to_product_o_verview.rb
20220320061428_create_orders.rb
20220320061607_create_orders_products.rb
20220320095323_remove_rating_video_column.rb
20220320095622_add_product_custom_design_column.rb
20220405025546_add_quantity_to_orders_products.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (2.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-04-22 08:57:38.278086"], ["updated_at", "2022-04-22 08:57:38.278086"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign-up" for ::1 at 2022-04-22 15:58:29 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.8ms | Allocations: 4021)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "users" does not exist
LINE 9:  WHERE a.attrelid = '"users"'::regclass
                            ^
):
  
app/controllers/users_controller.rb:5:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign-up" for ::1 at 2022-04-22 16:00:29 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 12 pending migrations:

20220315131220_create_users.rb
20220315132603_create_addresses.rb
20220316050629_create_products.rb
20220316131636_create_ratings.rb
20220316133802_rename_type_to_category.rb
20220319170533_change_product_overview.rb
20220319173145_add_index_to_product_o_verview.rb
20220320061428_create_orders.rb
20220320061607_create_orders_products.rb
20220320095323_remove_rating_video_column.rb
20220320095622_add_product_custom_design_column.rb
20220405025546_add_quantity_to_orders_products.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.2) lib/puma/configuration.rb:252:in `call'
puma (5.6.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.2) lib/puma/request.rb:76:in `handle_request'
puma (5.6.2) lib/puma/server.rb:441:in `process_client'
puma (5.6.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220315131220)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220315131220"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20220315132603)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "city" character varying, "district" character varying, "town" character varying, "description" character varying, "price" integer, "phone_number" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220315132603"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20220316050629)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "image" character varying[], "description" character varying, "price" integer, "third_party" character varying, "color" character varying, "size" character varying, "overview" character varying, "type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316050629"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRatings (20220316131636)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" bigserial primary key, "title" character varying, "user_id" bigint NOT NULL, "product_id" bigint NOT NULL, "description" character varying, "image" character varying[], "video" character varying[], "type" character varying, "star" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a7dfeb9f5f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_f846e598a7"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_user_id" ON "ratings" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_product_id" ON "ratings" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316131636"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameTypeToCategory (20220316133802)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "products" RENAME COLUMN "type" TO "category"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ratings" RENAME COLUMN "type" TO "category"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220316133802"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeProductOverview (20220319170533)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "products" ALTER COLUMN "overview" TYPE text[] USING CAST(overview AS text[])[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220319170533"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToProductOVerview (20220319173145)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_products_on_overview" ON "products" USING gin ("overview")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220319173145"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20220320061428)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "user_id" bigint NOT NULL, "status" character varying, "total_price" integer, "description" character varying, "address" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320061428"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrdersProducts (20220320061607)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "orders_products" ("id" bigserial primary key, "order_id" bigint NOT NULL, "product_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_35083423df"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_fc9f522293"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_orders_products_on_order_id" ON "orders_products" ("order_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_orders_products_on_product_id" ON "orders_products" ("product_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320061607"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveRatingVideoColumn (20220320095323)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "video"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320095323"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddProductCustomDesignColumn (20220320095622)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "products" ADD "custom_design" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220320095622"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToOrdersProducts (20220405025546)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "orders_products" ADD "quantity" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220405025546"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign-up" for ::1 at 2022-04-22 16:05:22 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hdthinh01@gmail.com"], ["name", nil], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-22 09:05:23.464926"], ["updated_at", "2022-04-22 09:05:23.464926"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 265ms (Views: 0.3ms | ActiveRecord: 9.9ms | Allocations: 14214)


Started POST "/sign-up" for ::1 at 2022-04-22 16:05:27 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 999)


Started POST "/sign-up" for ::1 at 2022-04-22 16:05:33 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 819)


Started POST "/sign-up" for ::1 at 2022-04-22 16:41:51 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 111ms (Views: 0.3ms | ActiveRecord: 10.4ms | Allocations: 5848)


Started POST "/sign-up" for ::1 at 2022-04-22 16:47:36 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 67ms (Views: 0.2ms | ActiveRecord: 7.7ms | Allocations: 3136)


Started POST "/sign-up" for ::1 at 2022-04-22 16:48:12 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 803)


Started POST "/sign-up" for ::1 at 2022-04-22 16:48:27 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh02@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hdthinh02@gmail.com"], ["name", nil], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-22 09:48:27.652933"], ["updated_at", "2022-04-22 09:48:27.652933"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 195ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 2909)


Started POST "/sign-up" for ::1 at 2022-04-22 16:49:13 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 803)


Started POST "/sign-up" for ::1 at 2022-04-22 16:51:56 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 805)


Started POST "/sign-up" for ::1 at 2022-04-22 16:52:02 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh03@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh03@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hdthinh03@gmail.com"], ["name", nil], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-22 09:52:03.132140"], ["updated_at", "2022-04-22 09:52:03.132140"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2833)


Started POST "/sign-up" for ::1 at 2022-04-22 16:53:30 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh04@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh04@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hdthinh04@gmail.com"], ["name", nil], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-22 09:53:31.056405"], ["updated_at", "2022-04-22 09:53:31.056405"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 195ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 2830)


Started GET "/sign-in" for ::1 at 2022-04-22 17:11:11 +0700
Started GET "/sign-in" for ::1 at 2022-04-22 17:11:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started POST "/sign-in" for ::1 at 2022-04-22 17:13:35 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:13:35 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 262ms (Views: 0.3ms | ActiveRecord: 8.1ms | Allocations: 9300)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 501ms (Views: 0.3ms | ActiveRecord: 7.9ms | Allocations: 12292)


Started POST "/sign-in" for ::1 at 2022-04-22 17:13:39 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:13:39 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 980)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 189ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:15:28 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:15:28 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 208ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 931)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 220ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:17:45 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:17:45 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]"}}}
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh02@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh02@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 204ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 7401)


Completed 200 OK in 390ms (Views: 0.3ms | ActiveRecord: 187.7ms | Allocations: 7830)


Started POST "/sign-in" for ::1 at 2022-04-22 17:17:56 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:17:56 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 945)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:29:23 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:29:23 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 283ms (Views: 0.3ms | ActiveRecord: 5.7ms | Allocations: 3417)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 535ms (Views: 0.3ms | ActiveRecord: 9.0ms | Allocations: 7392)


Started POST "/sign-in" for ::1 at 2022-04-22 17:42:32 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:42:32 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 110ms (Views: 0.3ms | ActiveRecord: 10.5ms | Allocations: 6260)


  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 98ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 6222)


Started POST "/sign-in" for ::1 at 2022-04-22 17:43:29 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:43:29 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 824)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:44:50 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:44:50 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 828)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:45:26 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:45:26 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 822)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:45:34 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:45:34 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 826)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:46:24 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:46:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh1221212", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh1221212", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh1221212"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 828)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh1221212", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh1221212", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh1221212"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:46:46 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:46:46 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 820)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:47:06 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:47:06 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 183ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 926)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 187ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:47:16 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:47:16 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 187ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 915)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 186ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 871)


Started POST "/sign-in" for ::1 at 2022-04-22 17:50:05 +0700
Started POST "/sign-in" for ::1 at 2022-04-22 17:50:05 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 183ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 907)


Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 180ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 846)


Started POST "/sign-in" for ::1 at 2022-04-22 17:50:46 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:50:55 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 187ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:51:03 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:52:56 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:53:11 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 180ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:54:10 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 180ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:54:40 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 180ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:57:59 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 182ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 846)


Started POST "/sign-in" for ::1 at 2022-04-22 17:58:18 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 17:59:13 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 17:59:34 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 871)


Started POST "/sign-in" for ::1 at 2022-04-22 18:00:13 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 179ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 846)


Started POST "/sign-in" for ::1 at 2022-04-22 18:00:21 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 181ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 18:01:12 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 871)


Started POST "/sign-in" for ::1 at 2022-04-22 18:01:35 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 188ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 872)


Started POST "/sign-in" for ::1 at 2022-04-22 18:02:08 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 767)


Started POST "/sign-in" for ::1 at 2022-04-22 18:02:24 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 189ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 18:02:35 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 180ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-in" for ::1 at 2022-04-22 18:06:57 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 196ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 847)


Started POST "/sign-in" for ::1 at 2022-04-22 18:07:05 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 870)


Started POST "/sign-up" for ::1 at 2022-04-28 21:41:27 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh02@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh02@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
Completed 200 OK in 246ms (Views: 4.8ms | ActiveRecord: 26.5ms | Allocations: 10420)


Started POST "/sign-in" for ::1 at 2022-04-28 21:42:19 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 278ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1124)


Started POST "/sign-in" for ::1 at 2022-04-28 21:42:39 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh1012@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh1012@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh1012@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 781)


Started POST "/sign-in" for ::1 at 2022-04-28 21:42:45 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh1012@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh1012@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh1012@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 781)


Started POST "/sign-in" for ::1 at 2022-04-28 21:42:52 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 781)


Started POST "/sign-in" for ::1 at 2022-04-28 21:44:06 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 246ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 913)


Started POST "/sign-in" for ::1 at 2022-04-28 21:44:09 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 251ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 848)


Started POST "/sign-in" for ::1 at 2022-04-28 21:44:14 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh01@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh01@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 246ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 848)


Started POST "/sign-up" for ::1 at 2022-04-28 21:44:43 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh05@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh05@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (6.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "hdthinh05@gmail.com"], ["name", nil], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-28 14:44:43.828943"], ["updated_at", "2022-04-28 14:44:43.828943"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 268ms (Views: 0.4ms | ActiveRecord: 8.5ms | Allocations: 4578)


Started POST "/sign-in" for ::1 at 2022-04-28 21:45:05 +0700
Processing by SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"hdthinh05@gmail.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"hdthinh05@gmail.com", "password"=>"[FILTERED]"}}}
HTTP Origin header (http://localhost:3000) didn't match request.base_url (http://localhost:8000)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hdthinh05@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:5:in `create'
Completed 200 OK in 252ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 874)
=======
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.6ms)[0m  [1m[35mALTER TABLE "ratings" ALTER COLUMN "category" TYPE varchar USING CAST(category AS varchar[])[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (7.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "category"[0m
  [1m[35m (25.8ms)[0m  [1m[35mALTER TABLE "ratings" ALTER COLUMN "category" TYPE varchar[] USING CAST(category AS varchar[])[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "category"[0m
  [1m[35m (24.2ms)[0m  [1m[35mALTER TABLE "ratings" ADD "category" varchar[] USING CAST(category AS varchar[])[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeRatingsCategoryToArray (20220428062225)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE "ratings" DROP COLUMN "category"[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "ratings" ADD "category" varchar[][0m
  [1m[36mActiveRecord::SchemaMigration Create (5.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220428062225"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (7.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products/5/ratings" for ::1 at 2022-04-28 14:35:34 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["5-star", "media"], "star"=>5, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["5-star", "media"]}}
  [1m[36mProduct Load (6.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:114:in `create_ratings'
  [1m[36mRating Count (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mRating Create (9.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 5], ["created_at", "2022-04-28 07:35:36.320323"], ["updated_at", "2022-04-28 07:35:36.320323"], ["category", "{5-star,media}"]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
Completed 200 OK in 444ms (Views: 2.6ms | ActiveRecord: 47.3ms | Allocations: 41895)


Started POST "/products/5/ratings" for ::1 at 2022-04-28 14:40:51 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"lamtoan@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["4-star", "media"], "star"=>5, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["4-star", "media"]}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "lamtoan@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:113:in `create_ratings'
  [1m[36mRating Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:117:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mRating Create (0.8ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 2], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 5], ["created_at", "2022-04-28 07:40:51.770527"], ["updated_at", "2022-04-28 07:40:51.770527"], ["category", "{4-star,media}"]]
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:122:in `create_ratings'
Completed 200 OK in 102ms (Views: 1.3ms | ActiveRecord: 19.7ms | Allocations: 22706)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:41:04 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:93:in `show_ratings'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.8ms | Allocations: 3492)


  
NoMethodError (undefined method `where' for [{"id"=>17, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:21:57.913Z", "updated_at"=>"2022-04-27T08:21:57.913Z", "category"=>nil}, {"id"=>18, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:22:51.722Z", "updated_at"=>"2022-04-27T08:22:51.722Z", "category"=>nil}, {"id"=>19, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:35:36.320Z", "updated_at"=>"2022-04-28T07:35:36.320Z", "category"=>["5-star", "media"]}, {"id"=>20, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:40:51.770Z", "updated_at"=>"2022-04-28T07:40:51.770Z", "category"=>["4-star", "media"]}]:Array):
  
app/controllers/products_controller.rb:95:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:42:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:93:in `show_ratings'
Completed 500 Internal Server Error in 219ms (ActiveRecord: 21.9ms | Allocations: 15380)


  
NoMethodError (undefined method `where' for [{"id"=>17, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:21:57.913Z", "updated_at"=>"2022-04-27T08:21:57.913Z", "category"=>nil}, {"id"=>18, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:22:51.722Z", "updated_at"=>"2022-04-27T08:22:51.722Z", "category"=>nil}, {"id"=>19, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:35:36.320Z", "updated_at"=>"2022-04-28T07:35:36.320Z", "category"=>["5-star", "media"]}, {"id"=>20, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:40:51.770Z", "updated_at"=>"2022-04-28T07:40:51.770Z", "category"=>["4-star", "media"]}]:Array):
  
app/controllers/products_controller.rb:95:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:43:34 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:93:in `show_ratings'
Completed 500 Internal Server Error in 86ms (ActiveRecord: 22.4ms | Allocations: 15333)


  
NoMethodError (undefined method `where' for [{"id"=>17, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:21:57.913Z", "updated_at"=>"2022-04-27T08:21:57.913Z", "category"=>nil}, {"id"=>18, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-27T08:22:51.722Z", "updated_at"=>"2022-04-27T08:22:51.722Z", "category"=>nil}, {"id"=>19, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:35:36.320Z", "updated_at"=>"2022-04-28T07:35:36.320Z", "category"=>["5-star", "media"]}, {"id"=>20, "user_id"=>2, "product_id"=>5, "description"=>"The product is not like the picture", "image"=>["a", "b"], "star"=>5, "created_at"=>"2022-04-28T07:40:51.770Z", "updated_at"=>"2022-04-28T07:40:51.770Z", "category"=>["4-star", "media"]}]:Array):
  
app/controllers/products_controller.rb:95:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:44:03 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (21.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."category" = $2[0m  [["product_id", 5], ["category", "media"]]
  ↳ app/controllers/products_controller.rb:99:in `show_ratings'
Completed 500 Internal Server Error in 102ms (ActiveRecord: 32.3ms | Allocations: 12659)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  malformed array literal: "media"
DETAIL:  Array value must start with "{" or dimension information.
):
  
app/controllers/products_controller.rb:99:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:44:32 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (9.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND ('media' in category)[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:99:in `show_ratings'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 24.1ms | Allocations: 12703)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "category"
LINE 1: ... WHERE "ratings"."product_id" = $1 AND ('media' in category)
                                                              ^
):
  
app/controllers/products_controller.rb:99:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:45:04 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:139:in `set_product'
  [1m[36mRating Load (12.9ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND ('media' in category::varchar[])[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:99:in `show_ratings'
Completed 500 Internal Server Error in 299ms (ActiveRecord: 33.0ms | Allocations: 12678)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "category"
LINE 1: ...WHERE "ratings"."product_id" = $1 AND ('media' in category::...
                                                             ^
):
  
app/controllers/products_controller.rb:99:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:46:30 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
Completed 200 OK in 100ms (Views: 0.4ms | ActiveRecord: 16.9ms | Allocations: 14061)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 14:46:41 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:102:in `show_ratings'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 69ms (Views: 1.0ms | ActiveRecord: 7.3ms | Allocations: 9450)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 14:47:21 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:102:in `show_ratings'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 162ms (Views: 0.7ms | ActiveRecord: 26.5ms | Allocations: 21562)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:47:27 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 1.0ms | Allocations: 4403)


  
NoMethodError (undefined method `include?' for #<Rating id: 17, user_id: 2, product_id: 5, description: "The product is not like the picture", image: ["a", "b"], star: 5, created_at: "2022-04-27 08:21:57.913034000 +0000", updated_at: "2022-04-27 08:21:57.913034000 +0000", category: nil>):
  
app/controllers/products_controller.rb:97:in `block in show_ratings'
app/controllers/products_controller.rb:96:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:47:52 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
Completed 500 Internal Server Error in 100ms (ActiveRecord: 16.2ms | Allocations: 14674)


  
NoMethodError (undefined method `include?' for nil:NilClass):
  
app/controllers/products_controller.rb:97:in `block in show_ratings'
app/controllers/products_controller.rb:96:in `select'
app/controllers/products_controller.rb:96:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:48:09 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:143:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
Completed 500 Internal Server Error in 84ms (ActiveRecord: 14.0ms | Allocations: 14690)


  
NoMethodError (undefined method `include?' for nil:NilClass):
  
app/controllers/products_controller.rb:98:in `block in show_ratings'
app/controllers/products_controller.rb:96:in `select'
app/controllers/products_controller.rb:96:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:48:28 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:143:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 16.5ms | Allocations: 14688)


  
NoMethodError (undefined method `include?' for nil:NilClass):
  
app/controllers/products_controller.rb:98:in `block in show_ratings'
app/controllers/products_controller.rb:96:in `each'
app/controllers/products_controller.rb:96:in `show_ratings'
Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:49:21 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 136ms (Views: 0.7ms | ActiveRecord: 23.5ms | Allocations: 21650)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:49:48 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:142:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 175ms (Views: 1.4ms | ActiveRecord: 25.4ms | Allocations: 21542)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:50:05 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:143:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 210ms (Views: 2.8ms | ActiveRecord: 30.9ms | Allocations: 21552)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:50:22 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:143:in `set_product'
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:96:in `show_ratings'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 146ms (Views: 0.6ms | ActiveRecord: 26.1ms | Allocations: 20571)


Started GET "/products/5/ratings?type=media" for ::1 at 2022-04-28 14:50:32 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"media", "id"=>"5"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
  [1m[36mRating Load (0.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:95:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 136ms (Views: 0.5ms | ActiveRecord: 19.7ms | Allocations: 20536)


Started GET "/products/5/ratings?type=5-star" for ::1 at 2022-04-28 14:50:41 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"5-star", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:95:in `show_ratings'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2371)


Started GET "/products/5/ratings?type=5-star" for ::1 at 2022-04-28 15:48:44 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (6.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show_ratings as */*
  Parameters: {"type"=>"5-star", "id"=>"5"}
  [1m[36mProduct Load (7.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (5.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:95:in `show_ratings'
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 718ms (Views: 2.1ms | ActiveRecord: 65.7ms | Allocations: 35016)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:49:11 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 28ms (Views: 2.5ms | ActiveRecord: 1.6ms | Allocations: 4104)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:49:20 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (1.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 79ms (Views: 2.0ms | ActiveRecord: 2.7ms | Allocations: 3868)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:49:53 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:140:in `set_product'
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 130ms (Views: 1.4ms | ActiveRecord: 24.1ms | Allocations: 21576)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:50:02 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 239ms (Views: 0.9ms | ActiveRecord: 32.7ms | Allocations: 21554)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:50:23 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 228ms (Views: 5.4ms | ActiveRecord: 31.1ms | Allocations: 23377)


Started POST "/sign-up" for ::1 at 2022-04-28 15:51:09 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"email"=>"ltt@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"TTL"}}
Can't verify CSRF token authenticity.
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ltt@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (6.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "ltt@gmail.com"], ["password_digest", "[FILTERED]"], ["created_at", "2022-04-28 08:51:10.154928"], ["updated_at", "2022-04-28 08:51:10.154928"], ["name", "TTL"]]
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 200 OK in 432ms (Views: 0.3ms | ActiveRecord: 14.0ms | Allocations: 4500)


  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/products/5/ratings" for ::1 at 2022-04-28 15:52:16 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"ltt@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["4-star", "media"], "star"=>5, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["4-star", "media"]}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ltt@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:116:in `create_ratings'
  [1m[36mRating Count (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:119:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:124:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:124:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:124:in `create_ratings'
  [1m[36mRating Create (4.4ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 4], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 5], ["created_at", "2022-04-28 08:52:17.156895"], ["updated_at", "2022-04-28 08:52:17.156895"], ["category", "{4-star,media}"]]
  ↳ app/controllers/products_controller.rb:124:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:124:in `create_ratings'
Completed 200 OK in 382ms (Views: 1.3ms | ActiveRecord: 9.7ms | Allocations: 21280)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 15:52:22 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:141:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:103:in `block in show_ratings'
Completed 200 OK in 62ms (Views: 2.2ms | ActiveRecord: 3.1ms | Allocations: 6741)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ModifyAddress (20220428085814)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (75.4ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "price" TYPE float[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "town"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "city"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "district"[0m
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ModifyAddress (20220428085814)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.7ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "price" TYPE float[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "town"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "city"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "district"[0m
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ModifyAddress (20220428085814)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (52.5ms)[0m  [1m[35mALTER TABLE "addresses" ALTER COLUMN "price" TYPE float[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "town"[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "city"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "addresses" DROP COLUMN "district"[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "addresses" ADD "location" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220428085814"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3526672260389256615)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/products/5/ratings" for ::1 at 2022-04-28 16:12:01 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
Started POST "/products/5/ratings" for ::1 at 2022-04-28 16:53:57 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create_ratings as */*
Started GET "/products/5/ratings" for ::1 at 2022-04-28 17:06:31 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (7.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
  [1m[36mRating Load (3.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 292ms (Views: 1.7ms | ActiveRecord: 46.0ms | Allocations: 37280)


Started DELETE "/products/5/ratings/17" for ::1 at 2022-04-28 17:06:50 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"17"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Count (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mRating Load (1.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 /* loading for inspect */ LIMIT $3[0m  [["product_id", 5], ["id", 17], ["LIMIT", 11]]
Completed 500 Internal Server Error in 112ms (ActiveRecord: 4.4ms | Allocations: 10537)


  [1m[36mCACHE Rating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 /* loading for inspect */ LIMIT $3[0m  [["product_id", 5], ["id", 17], ["LIMIT", 11]]
  
NoMethodError (undefined method `star' for #<ActiveRecord::AssociationRelation [#<Rating id: 17, user_id: 2, product_id: 5, description: "The product is not like the picture", image: ["a", "b"], star: 5, created_at: "2022-04-27 08:21:57.913034000 +0000", updated_at: "2022-04-27 08:21:57.913034000 +0000", category: nil>]>):
  
app/controllers/products_controller.rb:141:in `destroy_ratings'
  [1m[36mRating Load (3.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" ORDER BY "ratings"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started DELETE "/products/5/ratings/17" for ::1 at 2022-04-28 17:09:13 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"17"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (1.3ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (6.7ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 17]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 109ms (Views: 0.5ms | ActiveRecord: 25.5ms | Allocations: 17882)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 17:09:22 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 66ms (Views: 0.7ms | ActiveRecord: 7.5ms | Allocations: 9652)


Started GET "/products/21" for ::1 at 2022-04-28 17:09:44 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Filter chain halted as :set_product rendered or redirected
Completed 404 Not Found in 9ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 741)


Started GET "/products/5" for ::1 at 2022-04-28 17:09:48 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 932)


Started POST "/products/5/ratings" for ::1 at 2022-04-28 17:10:21 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"ltt@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["4-star", "media"], "star"=>4, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["4-star", "media"]}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ltt@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Update (6.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 10:10:21.720095"], ["avg_star", 4.8], ["id", 5]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mRating Create (5.7ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 4], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 4], ["created_at", "2022-04-28 10:10:21.764344"], ["updated_at", "2022-04-28 10:10:21.764344"], ["category", "{4-star,media}"]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
Completed 200 OK in 137ms (Views: 10.3ms | ActiveRecord: 18.7ms | Allocations: 11447)


Started POST "/products/5/ratings" for ::1 at 2022-04-28 17:10:28 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"ltt@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["4-star", "media"], "star"=>3, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["4-star", "media"]}}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ltt@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mRating Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 10:10:28.427415"], ["avg_star", 4.5], ["id", 5]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mRating Create (2.6ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 4], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 3], ["created_at", "2022-04-28 10:10:28.467565"], ["updated_at", "2022-04-28 10:10:28.467565"], ["category", "{4-star,media}"]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
Completed 200 OK in 87ms (Views: 1.4ms | ActiveRecord: 8.9ms | Allocations: 8001)


Started GET "/products/5" for ::1 at 2022-04-28 17:10:37 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 12ms (Views: 1.7ms | ActiveRecord: 0.6ms | Allocations: 851)


Started GET "/products/5/ratings" for ::1 at 2022-04-28 17:10:51 +0700
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
  [1m[36mRating Load (0.4ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 5215)


Started DELETE "/products/5/ratings/18" for ::1 at 2022-04-28 17:12:21 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"18"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 10:12:21.586612"], ["avg_star", 4.4], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (0.7ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 18]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 43ms (Views: 0.4ms | ActiveRecord: 5.0ms | Allocations: 5679)


Started GET "/products/5" for ::1 at 2022-04-28 17:12:27 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 851)


  [1m[36mProduct Load (12.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
Started GET "/products/5/ratings" for ::1 at 2022-04-29 00:16:36 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show_ratings as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (9.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
  [1m[36mRating Load (11.8ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:101:in `show_ratings'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:102:in `block in show_ratings'
Completed 200 OK in 760ms (Views: 2.1ms | ActiveRecord: 78.0ms | Allocations: 37313)


Started GET "/products/5" for ::1 at 2022-04-29 00:17:14 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 11ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 1080)


Started DELETE "/products/5/ratings/19" for ::1 at 2022-04-29 00:17:30 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"19"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (1.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (9.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (12.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:17:31.121174"], ["avg_star", 4.25], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (2.0ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 19]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 857ms (Views: 0.5ms | ActiveRecord: 29.6ms | Allocations: 19424)


Started GET "/products/5" for ::1 at 2022-04-29 00:17:36 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 905)


Started DELETE "/products/5/ratings/20" for ::1 at 2022-04-29 00:17:52 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"20"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (0.6ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:17:52.952009"], ["avg_star", 4.0], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (0.7ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 20]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 5711)


Started GET "/products/5" for ::1 at 2022-04-29 00:17:59 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 867)


Started DELETE "/products/5/ratings/21" for ::1 at 2022-04-29 00:18:04 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"21"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (0.7ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:18:04.682162"], ["avg_star", 3.5], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (0.6ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 21]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 36ms (Views: 0.6ms | ActiveRecord: 4.7ms | Allocations: 5655)


Started GET "/products/5" for ::1 at 2022-04-29 00:18:08 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 10ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 851)


Started DELETE "/products/5/ratings/22" for ::1 at 2022-04-29 00:18:13 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"22"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:18:14.137428"], ["avg_star", 3.0], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (0.6ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 22]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 38ms (Views: 0.7ms | ActiveRecord: 4.6ms | Allocations: 5679)


Started GET "/products/5" for ::1 at 2022-04-29 00:18:19 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 851)


Started DELETE "/products/5/ratings/23" for ::1 at 2022-04-29 00:18:25 +0700
Processing by ProductsController#destroy_ratings as */*
  Parameters: {"id"=>"5", "rating_id"=>"23"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mRating Load (0.5ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."product_id" = $1 AND "ratings"."id" = $2 LIMIT $3[0m  [["product_id", 5], ["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:138:in `destroy_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:140:in `destroy_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mProduct Update (0.7ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:18:25.267770"], ["avg_star", 0.0], ["id", 5]]
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:142:in `destroy_ratings'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mRating Destroy (3.4ms)[0m  [1m[31mDELETE FROM "ratings" WHERE "ratings"."id" = $1[0m  [["id", 23]]
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:145:in `destroy_ratings'
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 5679)


Started GET "/products/5" for ::1 at 2022-04-29 00:18:32 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 851)


Started POST "/products/5/ratings" for ::1 at 2022-04-29 00:18:41 +0700
Processing by ProductsController#create_ratings as */*
  Parameters: {"email"=>"ltt@gmail.com", "description"=>"The product is not like the picture", "image"=>["a", "b"], "category"=>["4-star", "media"], "star"=>3, "id"=>"5", "product"=>{"image"=>["a", "b"], "description"=>"The product is not like the picture", "category"=>["4-star", "media"]}}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Can't verify CSRF token authenticity.
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ltt@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:115:in `create_ratings'
  [1m[36mRating Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."product_id" = $1[0m  [["product_id", 5]]
  ↳ app/controllers/products_controller.rb:118:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = $1, "avg_star" = $2 WHERE "products"."id" = $3[0m  [["updated_at", "2022-04-28 17:18:41.341125"], ["avg_star", 3.0], ["id", 5]]
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:120:in `create_ratings'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mRating Create (11.2ms)[0m  [1m[32mINSERT INTO "ratings" ("user_id", "product_id", "description", "image", "star", "created_at", "updated_at", "category") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 4], ["product_id", 5], ["description", "The product is not like the picture"], ["image", "{a,b}"], ["star", 3], ["created_at", "2022-04-28 17:18:41.367213"], ["updated_at", "2022-04-28 17:18:41.367213"], ["category", "{4-star,media}"]]
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/products_controller.rb:123:in `create_ratings'
Completed 200 OK in 64ms (Views: 0.9ms | ActiveRecord: 16.1ms | Allocations: 10824)


Started GET "/products/5" for ::1 at 2022-04-29 00:18:46 +0700
Processing by ProductsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:163:in `set_product'
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 851)


Started GET "/orders/16" for ::1 at 2022-04-29 16:37:02 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (6.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (7.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:124:in `set_order'
  [1m[36mOrdersProduct Pluck (10.0ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
  [1m[36mProduct Load (9.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
Completed 500 Internal Server Error in 635ms (ActiveRecord: 70.6ms | Allocations: 37427)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/orders_controller.rb:25:in `block in show'
app/controllers/orders_controller.rb:20:in `map'
app/controllers/orders_controller.rb:20:in `show'
Started GET "/orders/16" for ::1 at 2022-04-29 16:37:24 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:124:in `set_order'
  [1m[36mOrdersProduct Pluck (0.9ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
  [1m[36mProduct Load (6.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
Completed 200 OK in 223ms (Views: 6.9ms | ActiveRecord: 40.8ms | Allocations: 23062)


Started GET "/orders/16" for ::1 at 2022-04-29 16:38:24 +0700
Processing by OrdersController#show as */*
  Parameters: {"id"=>"16"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:124:in `set_order'
  [1m[36mOrdersProduct Pluck (1.0ms)[0m  [1m[34mSELECT "orders_products"."product_id", "orders_products"."quantity", "orders_products"."size", "orders_products"."color" FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:20:in `show'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:23:in `block in show'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:24:in `block in show'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:25:in `block in show'
Completed 200 OK in 342ms (Views: 1.8ms | ActiveRecord: 26.5ms | Allocations: 22775)
>>>>>>> origin/tmai


